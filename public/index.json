[{"authors":["admin"],"categories":null,"content":"Philip is an Economics graduate with some experience in applied microeconomics research and machine learning. Formerly a data science instructor at The Center of Applied Data Science, he believes in the power of new data sources to derive critical insights to inform the direction of public policy. He is interested in topics in labour, health and development economics, and keeps a keen eye on developments in ethical applications of artificial intelligence.\n","date":1554595200,"expirydate":-62135596800,"kind":"taxonomy","lang":"en","lastmod":1555459200,"objectID":"2525497d367e79493fd32b198b28f040","permalink":"/authors/admin/","publishdate":"0001-01-01T00:00:00Z","relpermalink":"/authors/admin/","section":"authors","summary":"Philip is an Economics graduate with some experience in applied microeconomics research and machine learning. Formerly a data science instructor at The Center of Applied Data Science, he believes in the power of new data sources to derive critical insights to inform the direction of public policy. He is interested in topics in labour, health and development economics, and keeps a keen eye on developments in ethical applications of artificial intelligence.","tags":null,"title":"Philip Khor","type":"authors"},{"authors":null,"categories":null,"content":" Flexibility This feature can be used for publishing content such as:\n Online courses Project or software documentation Tutorials  The courses folder may be renamed. For example, we can rename it to docs for software/project documentation or tutorials for creating an online course.\nDelete tutorials To remove these pages, delete the courses folder and see below to delete the associated menu link.\nUpdate site menu After renaming or deleting the courses folder, you may wish to update any [[main]] menu links to it by editing your menu configuration at config/_default/menus.toml.\nFor example, if you delete this folder, you can remove the following from your menu configuration:\n[[main]] name = \u0026quot;Courses\u0026quot; url = \u0026quot;courses/\u0026quot; weight = 50  Or, if you are creating a software documentation site, you can rename the courses folder to docs and update the associated Courses menu configuration to:\n[[main]] name = \u0026quot;Docs\u0026quot; url = \u0026quot;docs/\u0026quot; weight = 50  Update the docs menu If you use the docs layout, note that the name of the menu in the front matter should be in the form [menu.X] where X is the folder name. Hence, if you rename the courses/example/ folder, you should also rename the menu definitions in the front matter of files within courses/example/ from [menu.example] to [menu.\u0026lt;NewFolderName\u0026gt;].\n","date":1536451200,"expirydate":-62135596800,"kind":"section","lang":"en","lastmod":1536451200,"objectID":"59c3ce8e202293146a8a934d37a4070b","permalink":"/courses/example/","publishdate":"2018-09-09T00:00:00Z","relpermalink":"/courses/example/","section":"courses","summary":"Learn how to use Academic's docs layout for publishing online courses, software documentation, and tutorials.","tags":null,"title":"Overview","type":"docs"},{"authors":null,"categories":null,"content":" In this tutorial, I\u0026rsquo;ll share my top 10 tips for getting started with Academic:\nTip 1 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum. Sed ac faucibus dolor, scelerisque sollicitudin nisi. Cras purus urna, suscipit quis sapien eu, pulvinar tempor diam. Quisque risus orci, mollis id ante sit amet, gravida egestas nisl. Sed ac tempus magna. Proin in dui enim. Donec condimentum, sem id dapibus fringilla, tellus enim condimentum arcu, nec volutpat est felis vel metus. Vestibulum sit amet erat at nulla eleifend gravida.\nNullam vel molestie justo. Curabitur vitae efficitur leo. In hac habitasse platea dictumst. Sed pulvinar mauris dui, eget varius purus congue ac. Nulla euismod, lorem vel elementum dapibus, nunc justo porta mi, sed tempus est est vel tellus. Nam et enim eleifend, laoreet sem sit amet, elementum sem. Morbi ut leo congue, maximus velit ut, finibus arcu. In et libero cursus, rutrum risus non, molestie leo. Nullam congue quam et volutpat malesuada. Sed risus tortor, pulvinar et dictum nec, sodales non mi. Phasellus lacinia commodo laoreet. Nam mollis, erat in feugiat consectetur, purus eros egestas tellus, in auctor urna odio at nibh. Mauris imperdiet nisi ac magna convallis, at rhoncus ligula cursus.\nCras aliquam rhoncus ipsum, in hendrerit nunc mattis vitae. Duis vitae efficitur metus, ac tempus leo. Cras nec fringilla lacus. Quisque sit amet risus at ipsum pharetra commodo. Sed aliquam mauris at consequat eleifend. Praesent porta, augue sed viverra bibendum, neque ante euismod ante, in vehicula justo lorem ac eros. Suspendisse augue libero, venenatis eget tincidunt ut, malesuada at lorem. Donec vitae bibendum arcu. Aenean maximus nulla non pretium iaculis. Quisque imperdiet, nulla in pulvinar aliquet, velit quam ultrices quam, sit amet fringilla leo sem vel nunc. Mauris in lacinia lacus.\nSuspendisse a tincidunt lacus. Curabitur at urna sagittis, dictum ante sit amet, euismod magna. Sed rutrum massa id tortor commodo, vitae elementum turpis tempus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean purus turpis, venenatis a ullamcorper nec, tincidunt et massa. Integer posuere quam rutrum arcu vehicula imperdiet. Mauris ullamcorper quam vitae purus congue, quis euismod magna eleifend. Vestibulum semper vel augue eget tincidunt. Fusce eget justo sodales, dapibus odio eu, ultrices lorem. Duis condimentum lorem id eros commodo, in facilisis mauris scelerisque. Morbi sed auctor leo. Nullam volutpat a lacus quis pharetra. Nulla congue rutrum magna a ornare.\nAliquam in turpis accumsan, malesuada nibh ut, hendrerit justo. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Quisque sed erat nec justo posuere suscipit. Donec ut efficitur arcu, in malesuada neque. Nunc dignissim nisl massa, id vulputate nunc pretium nec. Quisque eget urna in risus suscipit ultricies. Pellentesque odio odio, tincidunt in eleifend sed, posuere a diam. Nam gravida nisl convallis semper elementum. Morbi vitae felis faucibus, vulputate orci placerat, aliquet nisi. Aliquam erat volutpat. Maecenas sagittis pulvinar purus, sed porta quam laoreet at.\nTip 2 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum. Sed ac faucibus dolor, scelerisque sollicitudin nisi. Cras purus urna, suscipit quis sapien eu, pulvinar tempor diam. Quisque risus orci, mollis id ante sit amet, gravida egestas nisl. Sed ac tempus magna. Proin in dui enim. Donec condimentum, sem id dapibus fringilla, tellus enim condimentum arcu, nec volutpat est felis vel metus. Vestibulum sit amet erat at nulla eleifend gravida.\nNullam vel molestie justo. Curabitur vitae efficitur leo. In hac habitasse platea dictumst. Sed pulvinar mauris dui, eget varius purus congue ac. Nulla euismod, lorem vel elementum dapibus, nunc justo porta mi, sed tempus est est vel tellus. Nam et enim eleifend, laoreet sem sit amet, elementum sem. Morbi ut leo congue, maximus velit ut, finibus arcu. In et libero cursus, rutrum risus non, molestie leo. Nullam congue quam et volutpat malesuada. Sed risus tortor, pulvinar et dictum nec, sodales non mi. Phasellus lacinia commodo laoreet. Nam mollis, erat in feugiat consectetur, purus eros egestas tellus, in auctor urna odio at nibh. Mauris imperdiet nisi ac magna convallis, at rhoncus ligula cursus.\nCras aliquam rhoncus ipsum, in hendrerit nunc mattis vitae. Duis vitae efficitur metus, ac tempus leo. Cras nec fringilla lacus. Quisque sit amet risus at ipsum pharetra commodo. Sed aliquam mauris at consequat eleifend. Praesent porta, augue sed viverra bibendum, neque ante euismod ante, in vehicula justo lorem ac eros. Suspendisse augue libero, venenatis eget tincidunt ut, malesuada at lorem. Donec vitae bibendum arcu. Aenean maximus nulla non pretium iaculis. Quisque imperdiet, nulla in pulvinar aliquet, velit quam ultrices quam, sit amet fringilla leo sem vel nunc. Mauris in lacinia lacus.\nSuspendisse a tincidunt lacus. Curabitur at urna sagittis, dictum ante sit amet, euismod magna. Sed rutrum massa id tortor commodo, vitae elementum turpis tempus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean purus turpis, venenatis a ullamcorper nec, tincidunt et massa. Integer posuere quam rutrum arcu vehicula imperdiet. Mauris ullamcorper quam vitae purus congue, quis euismod magna eleifend. Vestibulum semper vel augue eget tincidunt. Fusce eget justo sodales, dapibus odio eu, ultrices lorem. Duis condimentum lorem id eros commodo, in facilisis mauris scelerisque. Morbi sed auctor leo. Nullam volutpat a lacus quis pharetra. Nulla congue rutrum magna a ornare.\nAliquam in turpis accumsan, malesuada nibh ut, hendrerit justo. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Quisque sed erat nec justo posuere suscipit. Donec ut efficitur arcu, in malesuada neque. Nunc dignissim nisl massa, id vulputate nunc pretium nec. Quisque eget urna in risus suscipit ultricies. Pellentesque odio odio, tincidunt in eleifend sed, posuere a diam. Nam gravida nisl convallis semper elementum. Morbi vitae felis faucibus, vulputate orci placerat, aliquet nisi. Aliquam erat volutpat. Maecenas sagittis pulvinar purus, sed porta quam laoreet at.\n","date":1557010800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1557010800,"objectID":"74533bae41439377bd30f645c4677a27","permalink":"/courses/example/example1/","publishdate":"2019-05-05T00:00:00+01:00","relpermalink":"/courses/example/example1/","section":"courses","summary":"In this tutorial, I\u0026rsquo;ll share my top 10 tips for getting started with Academic:\nTip 1 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum. Sed ac faucibus dolor, scelerisque sollicitudin nisi. Cras purus urna, suscipit quis sapien eu, pulvinar tempor diam. Quisque risus orci, mollis id ante sit amet, gravida egestas nisl. Sed ac tempus magna. Proin in dui enim.","tags":null,"title":"Example Page 1","type":"docs"},{"authors":null,"categories":null,"content":" Here are some more tips for getting started with Academic:\nTip 3 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum. Sed ac faucibus dolor, scelerisque sollicitudin nisi. Cras purus urna, suscipit quis sapien eu, pulvinar tempor diam. Quisque risus orci, mollis id ante sit amet, gravida egestas nisl. Sed ac tempus magna. Proin in dui enim. Donec condimentum, sem id dapibus fringilla, tellus enim condimentum arcu, nec volutpat est felis vel metus. Vestibulum sit amet erat at nulla eleifend gravida.\nNullam vel molestie justo. Curabitur vitae efficitur leo. In hac habitasse platea dictumst. Sed pulvinar mauris dui, eget varius purus congue ac. Nulla euismod, lorem vel elementum dapibus, nunc justo porta mi, sed tempus est est vel tellus. Nam et enim eleifend, laoreet sem sit amet, elementum sem. Morbi ut leo congue, maximus velit ut, finibus arcu. In et libero cursus, rutrum risus non, molestie leo. Nullam congue quam et volutpat malesuada. Sed risus tortor, pulvinar et dictum nec, sodales non mi. Phasellus lacinia commodo laoreet. Nam mollis, erat in feugiat consectetur, purus eros egestas tellus, in auctor urna odio at nibh. Mauris imperdiet nisi ac magna convallis, at rhoncus ligula cursus.\nCras aliquam rhoncus ipsum, in hendrerit nunc mattis vitae. Duis vitae efficitur metus, ac tempus leo. Cras nec fringilla lacus. Quisque sit amet risus at ipsum pharetra commodo. Sed aliquam mauris at consequat eleifend. Praesent porta, augue sed viverra bibendum, neque ante euismod ante, in vehicula justo lorem ac eros. Suspendisse augue libero, venenatis eget tincidunt ut, malesuada at lorem. Donec vitae bibendum arcu. Aenean maximus nulla non pretium iaculis. Quisque imperdiet, nulla in pulvinar aliquet, velit quam ultrices quam, sit amet fringilla leo sem vel nunc. Mauris in lacinia lacus.\nSuspendisse a tincidunt lacus. Curabitur at urna sagittis, dictum ante sit amet, euismod magna. Sed rutrum massa id tortor commodo, vitae elementum turpis tempus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean purus turpis, venenatis a ullamcorper nec, tincidunt et massa. Integer posuere quam rutrum arcu vehicula imperdiet. Mauris ullamcorper quam vitae purus congue, quis euismod magna eleifend. Vestibulum semper vel augue eget tincidunt. Fusce eget justo sodales, dapibus odio eu, ultrices lorem. Duis condimentum lorem id eros commodo, in facilisis mauris scelerisque. Morbi sed auctor leo. Nullam volutpat a lacus quis pharetra. Nulla congue rutrum magna a ornare.\nAliquam in turpis accumsan, malesuada nibh ut, hendrerit justo. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Quisque sed erat nec justo posuere suscipit. Donec ut efficitur arcu, in malesuada neque. Nunc dignissim nisl massa, id vulputate nunc pretium nec. Quisque eget urna in risus suscipit ultricies. Pellentesque odio odio, tincidunt in eleifend sed, posuere a diam. Nam gravida nisl convallis semper elementum. Morbi vitae felis faucibus, vulputate orci placerat, aliquet nisi. Aliquam erat volutpat. Maecenas sagittis pulvinar purus, sed porta quam laoreet at.\nTip 4 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum. Sed ac faucibus dolor, scelerisque sollicitudin nisi. Cras purus urna, suscipit quis sapien eu, pulvinar tempor diam. Quisque risus orci, mollis id ante sit amet, gravida egestas nisl. Sed ac tempus magna. Proin in dui enim. Donec condimentum, sem id dapibus fringilla, tellus enim condimentum arcu, nec volutpat est felis vel metus. Vestibulum sit amet erat at nulla eleifend gravida.\nNullam vel molestie justo. Curabitur vitae efficitur leo. In hac habitasse platea dictumst. Sed pulvinar mauris dui, eget varius purus congue ac. Nulla euismod, lorem vel elementum dapibus, nunc justo porta mi, sed tempus est est vel tellus. Nam et enim eleifend, laoreet sem sit amet, elementum sem. Morbi ut leo congue, maximus velit ut, finibus arcu. In et libero cursus, rutrum risus non, molestie leo. Nullam congue quam et volutpat malesuada. Sed risus tortor, pulvinar et dictum nec, sodales non mi. Phasellus lacinia commodo laoreet. Nam mollis, erat in feugiat consectetur, purus eros egestas tellus, in auctor urna odio at nibh. Mauris imperdiet nisi ac magna convallis, at rhoncus ligula cursus.\nCras aliquam rhoncus ipsum, in hendrerit nunc mattis vitae. Duis vitae efficitur metus, ac tempus leo. Cras nec fringilla lacus. Quisque sit amet risus at ipsum pharetra commodo. Sed aliquam mauris at consequat eleifend. Praesent porta, augue sed viverra bibendum, neque ante euismod ante, in vehicula justo lorem ac eros. Suspendisse augue libero, venenatis eget tincidunt ut, malesuada at lorem. Donec vitae bibendum arcu. Aenean maximus nulla non pretium iaculis. Quisque imperdiet, nulla in pulvinar aliquet, velit quam ultrices quam, sit amet fringilla leo sem vel nunc. Mauris in lacinia lacus.\nSuspendisse a tincidunt lacus. Curabitur at urna sagittis, dictum ante sit amet, euismod magna. Sed rutrum massa id tortor commodo, vitae elementum turpis tempus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean purus turpis, venenatis a ullamcorper nec, tincidunt et massa. Integer posuere quam rutrum arcu vehicula imperdiet. Mauris ullamcorper quam vitae purus congue, quis euismod magna eleifend. Vestibulum semper vel augue eget tincidunt. Fusce eget justo sodales, dapibus odio eu, ultrices lorem. Duis condimentum lorem id eros commodo, in facilisis mauris scelerisque. Morbi sed auctor leo. Nullam volutpat a lacus quis pharetra. Nulla congue rutrum magna a ornare.\nAliquam in turpis accumsan, malesuada nibh ut, hendrerit justo. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Quisque sed erat nec justo posuere suscipit. Donec ut efficitur arcu, in malesuada neque. Nunc dignissim nisl massa, id vulputate nunc pretium nec. Quisque eget urna in risus suscipit ultricies. Pellentesque odio odio, tincidunt in eleifend sed, posuere a diam. Nam gravida nisl convallis semper elementum. Morbi vitae felis faucibus, vulputate orci placerat, aliquet nisi. Aliquam erat volutpat. Maecenas sagittis pulvinar purus, sed porta quam laoreet at.\n","date":1557010800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1557010800,"objectID":"1c2b5a11257c768c90d5050637d77d6a","permalink":"/courses/example/example2/","publishdate":"2019-05-05T00:00:00+01:00","relpermalink":"/courses/example/example2/","section":"courses","summary":"Here are some more tips for getting started with Academic:\nTip 3 Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum. Sed ac faucibus dolor, scelerisque sollicitudin nisi. Cras purus urna, suscipit quis sapien eu, pulvinar tempor diam. Quisque risus orci, mollis id ante sit amet, gravida egestas nisl. Sed ac tempus magna. Proin in dui enim. Donec condimentum, sem id dapibus fringilla, tellus enim condimentum arcu, nec volutpat est felis vel metus.","tags":null,"title":"Example Page 2","type":"docs"},{"authors":[],"categories":null,"content":" Click on the Slides button above to view the built-in slides feature.   Slides can be added in a few ways:\n Create slides using Academic\u0026rsquo;s Slides feature and link using slides parameter in the front matter of the talk file Upload an existing slide deck to static/ and link using url_slides parameter in the front matter of the talk file Embed your slides (e.g. Google Slides) or presentation video on this page using shortcodes.  Further talk details can easily be added to this page using Markdown and $\\rm \\LaTeX$ math code.\n","date":1906549200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1906549200,"objectID":"96344c08df50a1b693cc40432115cbe3","permalink":"/talk/example/","publishdate":"2017-01-01T00:00:00Z","relpermalink":"/talk/example/","section":"talk","summary":"An example talk using Academic's Markdown slides feature.","tags":[],"title":"Example Talk","type":"talk"},{"authors":null,"categories":[],"content":"\rLarge data science projects can be a pain to manage. Cookiecutter Data Science recommends the following project folder structure, and I think it’s a good picture of how a data science project should be organized:\n├── README.md ├── data\r│ ├── external │ ├── interim │ ├── processed │ └── raw ├── docs ├── models ├── notebooks ├── references ├── reports │ └── figures ├── requirements.txt ├── setup.py ├── src │ ├── __init__.py │ ├── data │ │ └── make_dataset.py\r│ ├── features │ │ └── build_features.py\r│ ├── models │ │ ├── predict_model.py\r│ │ └── train_model.py\r│ └── visualization │ └── visualize.py\rSpecifically, file paths can be hard to manage, since it’s not great practice to use absolute paths in your code. In R, I’ve gotten used to using the here package, which automatically detects the root folder of your project, so that to import a csv file from the external folder, all I have to do is\nlibrary(readr)\rread_csv(here(\u0026quot;data\u0026quot;, \u0026quot;external\u0026quot;, \u0026quot;my_csv_file.csv\u0026quot;))\rso long as a .here or .Rproj file is present in the project directory.\nPreviously, I used .. a lot, which references the directory above the current directory. However, if you move your files around, you’ll have to change your file paths too.\nWhile looking for a Python alternative, I found a package rootpath which essentially does the same with the rootpath.detect() function.\nimport rootpath\rimport os ROOT_DIR = rootpath.detect()\ros.chdir(ROOT_DIR)\rfile_path = \u0026quot;data/interim/...\u0026quot;\r","date":1560384000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1560384000,"objectID":"3121a20a80b781ed6cfd44b62df5ce8b","permalink":"/post/file-paths-and-ds-projects/","publishdate":"2019-06-13T00:00:00Z","relpermalink":"/post/file-paths-and-ds-projects/","section":"post","summary":"Some thoughts on keeping a data science project tidy.","tags":[],"title":"File paths and data science projects","type":"post"},{"authors":null,"categories":["ggplot2","wage-gap"],"content":"\r\r\r\r\r\r\rI wrote a piece at The Ambitious Economist on Australia’s gender wage gap with some good ol’ ggplot2 dataviz. However, there was a chart showing the gender wage gap by occupation that could have benefited from some interactive visualisation. Fortunately, the R package plotly makes this quite simple, with just two more lines of code …\nlibrary(plotly)\rggplotly(p, tooltip = c(\u0026quot;female_pct_male\u0026quot;, \u0026quot;occupation\u0026quot;)) %\u0026gt;% layout(showlegend = FALSE) %\u0026gt;% config(displayModeBar = FALSE) -\u0026gt; p1\rp1\r\r{\"x\":{\"data\":[{\"x\":[0.760458255121672,0.819638743255976,1.00767913582039,0.84705563565913,0.736160357352271,0.950472958952527,1.21313906215615,1.13498814458987,1.34990687923676,0.930604085261722,1.0178251922582,0.889379052159499,1,0.770398685500593,1.09669403530249,0.626145468311439,1.21696742799331,1.06675768344752,1.03864018490876,0.709172065596937,0.830788868405837,0.877713264588236,0.855449310640206,1.07004112049133,0.982527004379361,0.896583299011002,1.0246951271691,1.22496302110534,1.04767390090092,1.25722084694543,0.967969824078405,1.11982531972376,1.29381920400364,0.889391712002393,0.944354997963488,1.11594889761745,1.14788581922494,1.99247586279561,2.06385055725028,1.67000101204932,2.31635829047307,1.98909763664244,1.64089283533916,2.07639316279643,1.87402753570463,1.9389451696061,1.85971882177786,2.29848927369313,1.91604119710553,1.90348902542705,2.00531465904854,2.03687600342066,1.95982178597792,2.07454688094612,1.85077717069285,1.81258357649509,1.94102891376764,2.0892958892081,1.77447508759207,2.1010261328135,2.00419437825039,2.15252355470815,2.20621414762795,2.08091267093436,2.05337460613619,2.03585829421086,1.96671804006573,2.01141305603567,1.83176905098471,2.33426954352311,1.65440866482147,1.89948194820397,2.16247569875998,1.73535039386375,2.05778282218915,1.96967858907747,1.94489496655007,1.9349767219997,2.06134789982625,1.8402542009366,1.90755088151999,1.91752698996043,1.95753309642059,2.00988191995352,1.90847533050295,2.19222714368319,2.19719281234961,1.97536039523655,2.02289194103463,2.06647287739684,2.13805838755366,1.79630062638348,2.18929962643205,2.14823468730427,2.02791681026506,2.18994888869003,2.12605501453956,1.97503345181704,2.25364639376081,2.23161050172918,2.01119343125716,2.12750247668604,2.26248167007016,1.97915742063522,1.99016943109566,2.01825949737151,2.01720014930901,1.86306275144779,2.12029707168666,1.9626857526959,1.76252681589326,2.03809433799144,1.74789372380277,2.16909882211372,2.36050522301111,2.06643976478019,1.93939125597521,1.70883775939116,1.77006738341343,2.04480060557674,2.13027198012633,2.1049487542806,1.86308355122675,1.84455507479247,2,2.04840735839677,1.98037967478104,1.66177172222558,2.16427262438575,1.81027508234502,2.30213163963388,1.96245752129854,1.9166782683056,1.92189770851547,1.85372143144187,1.8406698702822,1.99054805157034,3.07370306720201,2.93068496968474,2.89016852181865,2.66915301619307,3.26278831136658,2.63645709458524,2.9725338903206,3.22033993801266,3.11699321793029,2.87459750170189,2.72808242456473,2.82866678811089,2.87289476987646,3.02933483302709,2.88067434610137,2.89419091074218,3.15780289963753,2.79784212270881,3.29792524669601,3.0117507782767,3.0815564472043,2.82884909305158,2.72535062285898,3.23368383531176,2.94511793661154,3.34852317747202,2.96316853338206,2.79942997921737,2.71721226518718,2.95774513001462,2.92464348646916,3.02936655719986,3.0459734447049,3.04824661882895,3.15220952241036,3.19049350749815,2.91543167030292,3.02503702493223,3.09722651777048,3.0988763831305,2.86910662565583,3,3.02838820050227,3.28258733289206,2.82334544179029,3.07139922965991,2.8070827310983,3.02209904596449,3.18139743318737,2.92553313324821,2.97695430088472,2.68788869490588,3.17308590697746,3.19882723258402,2.98955891311779,3.1396574530978,3.1249948802837,3.31470202707226,2.7344738692907,3.72520222808789,4.2186009761512,4.04212384918796,4.02451462020771,4,3.97764269092389,4.06421024609667,3.82954805902033,3.92839251703965,3.82797397331657,4.03726439161052,3.92312588486538,3.94829249334289,4.22490939137035,3.83574199622495,3.64769741357108,4.1268034575176,4.3203929535327,4.29897933882564,3.71191384733565,3.81235796989864,4.02652130623848,3.95485886552351,3.98400808506331,3.88536291660303,4.16170360486606,4.23380179629976,4.11970182389662,4.00162206520605,3.89544183816652,4.14648580835842,4.10033742861813,3.83260689150738,5.02499929300582,5.16004237229607,5.12185805328934,4.86077322728385,5.21148327985096,4.82542626481542,5.07470698265426,4.74323175194566,4.94583519631399,5.03930316803822,5.19197762479628,5.10485939828517,4.87045619192058,4.77867674336718,4.72604538812614,4.62669093031268,5.14076837314284,5.24007045012122,4.76178213559924,4.80900636881696,5.05486663701224,4.95667454622993,5.33806630819059,4.92425625877113,4.90972630468047,4.88109989695654,5,5.23368373384071,6.23492842220572,5.90735921671929,5.96777020646347,5.94242111362994,5.78497219892559,6.08678366079621,6.08656911652673,6.04848492205308,5.88555785273921,5.82224869716609,6.18437255795973,5.86037936020906,5.65443723436846,6.2945759177321,6.11452671773672,6.01251054880564,6,7.02743168994186,6.92087356214133,6.85073160861555,6.71475927245649,7.01305657318555,7.04998032276292,7.09492295650437,7.0645643657635,7.22672605318892,7.13623137888073,6.65380600388464,7.29246145335345,6.93158686021812,6.87471477289366,6.95454405695893,6.77521809935282,6.89393908771741,6.90659425362594,7.29728358020354,7.115051326941,7,8.12771704887383,8.2582078774745,8.03019174434806,7.91552422916099,8.01010805807202,7.95768044103731,8.18021475887133,8.05343114651388,8.1230227545864,7.83221855090068,7.95625965101223,8.11408953826891,7.76790711752444,7.72726725877579,7.82590187344804,8.14288881793988,8.19781430879168,8.22360453039431,7.86129566803481,7.82362191934711,7.92742363368924,8,8.05558649650287,8.2542966552537,7.83242393393398,7.71462905070124,8.30938086051731,8.02496291261261,7.88197374171398,7.66831702341659,8.12492387506174,7.95528512230988,7.88726930159822,8.30707196174925,8.08055563783643,7.91121377086312,7.68561655327331,7.74272583196706,8.1553867596672,7.81815178344022,7.97933736477042,8.04031362060305],\"y\":[0.890598201933266,0.844102550293511,0.892319762117145,0.931035622210995,0.774408289378249,0.733051140774712,0.713391614718382,0.850957502389954,0.743737932043587,0.791165470986996,0.589007391507783,0.915934898305134,0.466971301153992,0.719709341392432,0.647724165963066,0.748645477727276,0.771974565956042,0.818213873713196,0.707327969463479,0.815562096065701,0.770610074843792,0.710428201165642,0.678568684636153,0.543794492755558,0.867553118764799,0.546808389382522,0.757248482062436,0.840279792214438,0.942581416254238,0.870677646538131,0.647176278846312,0.925425382885013,0.808610207734393,0.820694059162329,0.520453720854021,0.789840815206008,0.73134445392849,0.89338421943819,0.642597226970339,0.780247973523943,0.801942910784995,0.814106292449319,0.791395552426468,0.827292217364764,0.864075613261879,0.928348251356498,0.847296748285421,0.766517370373532,0.656140817547572,0.890088010439832,0.81673411955093,0.793150598908365,0.941474593850247,0.892671736713245,0.882131562873786,0.812707597722476,0.800750188977046,0.848943730181846,0.823791563653792,0.736310548900203,0.939927867056415,0.879316457125444,0.830699098948363,0.80450523276219,0.663552802439623,0.833840044648544,0.662073090303838,0.66070875337745,0.772941426765777,0.815329666819394,0.772569821027237,0.810804898291299,0.787253303953544,0.774640908942832,0.871181857425279,0.872865185109739,0.886718278779617,0.829146620332986,0.780807767716032,0.793217950812707,0.854208873360446,0.776444510776209,0.746575765710218,0.732770188317006,0.833919349019257,0.773461027092438,0.853263584708059,0.689564925437544,0.614250507965799,0.742918307359153,0.895840494520925,0.853459131658496,0.748505980026909,0.845803897701918,0.709031582045121,0.759486411679682,0.889295795112216,0.849234040229063,0.81266305043451,0.794839649434326,0.77281945969388,0.762213784929986,0.786405280478297,0.64143879561474,0.50593569496708,0.635131711307034,0.853794756913042,0.739935258384329,0.8579072686983,0.790030912603663,0.787195500510095,0.884957183852352,0.797619996531952,0.819673975569676,0.790225825294401,0.710103157061949,0.943243295348036,0.803066265778874,0.831055924954864,0.750314282444829,0.800014396458564,0.775623730818394,0.783805072832015,0.759497385076158,0.46755014641272,0.941614706056683,0.765829680391158,0.815764033174664,0.813563502973862,0.74866499491103,0.778870105800404,0.617256677361216,0.757523062147541,0.73612497885732,0.732436123300668,0.819455390997436,0.7098722191647,0.655850322118277,0.582983858367641,0.714980771140489,0.683556255951349,0.772069950764202,0.74411466278231,0.81056063394427,0.691244726134723,0.799167001116538,0.59069356189104,0.692684776630251,0.798251777229237,0.828451125399815,0.62688840824555,0.865478714236107,0.785130766143485,0.736252014795269,0.6221542649479,0.681791548116018,0.744837266121854,0.58940061724403,0.69107774336007,0.776787579682475,0.724477091547627,0.615074066962625,0.741606505387409,0.675896858383605,0.734502809828252,0.823439358755855,0.842931921568388,0.768654994496696,0.825541097699571,0.597121279018334,0.784642170423528,0.859851248771531,0.796244015321473,0.637521330485741,0.873773339574293,0.768150742226183,0.839105009362334,0.644855142459007,0.525723658002598,0.966813941119209,0.823182134948055,0.75149822244149,0.706257963810172,0.83744463653925,0.68365663064663,0.833554412742017,0.70009966755094,0.73994183401615,0.705249223387892,0.621940347550693,0.754192354508849,0.921601160221972,0.638576788834545,0.696925802418327,0.70423024448342,0.757387787070946,0.867351709458622,0.915886865855266,0.744717465527741,0.857248597991863,0.395778059718095,0.611146369577545,0.901366967554189,0.952160063060634,0.881404305729375,0.857786749115395,0.711195354999613,0.804175258226829,0.76092328533074,0.866828656493343,0.824386074166003,0.850909466563051,0.928816053546046,0.848164360108852,0.888439892852209,0.895057708369477,0.776603680030238,0.779646490454617,0.846849201831919,0.937802132960535,0.73940046815276,0.77405173632012,0.939165219944072,0.880790416931434,0.993924341855311,0.905797349233938,0.816505083092234,0.825569046156983,0.926012030262049,0.839034947487361,0.971019869288101,0.801231408524582,0.672977149324794,0.855778953130502,0.842039202196765,0.681815536464861,0.856722563232121,0.902200501019061,0.73674610575951,0.767999348446406,0.869352150682233,0.981086219520413,0.679642433497774,0.73442807473046,0.83411124728204,0.674005020971116,0.919365429198408,0.927609534523026,0.770304086799219,0.928445980069875,0.809913834118371,0.825714392777268,0.68508495739044,0.932541844274422,0.751172855012661,0.580917522246987,0.732010076609647,0.908025565305223,0.703235367636151,0.899407025780965,0.573158017486309,0.944108779404142,0.693006553827745,0.887360831445511,0.744028463456957,0.805051124261615,0.655253273927627,0.775550861556462,0.751786120634171,0.738728654619121,0.716797756043076,0.652773229062642,0.954194952714617,0.531089590002808,0.935036223076481,0.861593709798949,0.725471566370719,0.799751755810264,0.817058099916018,0.722581494890486,0.593844622998072,0.683204619776645,0.744309831767456,0.768295968923377,0.715948789992171,0.713028852516445,0.686314720228592,0.889888872831634,0.779749614099294,0.763697220009475,0.579061236248313,0.649906809831738,0.791151709916575,0.876714617840887,0.5736282995169,0.887765677077594,0.774489337240446,0.959151955478083,0.625999094156508,0.856186424567049,0.709312759722257,0.654123246719622,0.79381868833093,0.745562108108512,0.8903879036152,0.929152441350576,0.700539901792487,0.612341733059598,0.74314855772985,0.741851002495647,0.837428787392413,0.808844596844768,0.742342770598422,0.868963121479681,0.827441299800405,0.749389042505549,0.557072591066639,0.919244520561728,0.629737311320955,0.953807432612229,0.640727515686227,0.849282005268756,0.739588160770964,0.595144933633234,0.713437837133688,0.598032083091741,0.994016216097304,0.650177899645479,0.712640055381957,0.616642284651379,0.803479729947696,0.855402188201942,0.774925619156306,0.953446536984567,0.697020530847115,0.843984340029863,0.64233040348737],\"text\":[\"female_pct_male: 0.8905982\noccupation: Aboriginal and Torres Strait Islander health worker\",\"female_pct_male: 0.8441026\noccupation: Accountant\",\"female_pct_male: 0.8923198\noccupation: Accounting clerk\",\"female_pct_male: 0.9310356\noccupation: Actor, dancer or other entertainer\",\"female_pct_male: 0.7744083\noccupation: Actuary, mathematician or statistician\",\"female_pct_male: 0.7330511\noccupation: Administration assistant or office worker\",\"female_pct_male: 0.7133916\noccupation: Advertising and marketing professional\",\"female_pct_male: 0.8509575\noccupation: Advertising and sales manager\",\"female_pct_male: 0.7437379\noccupation: Aged or disabled carer\",\"female_pct_male: 0.7911655\noccupation: Agricultural or forestry scientist\",\"female_pct_male: 0.5890074\noccupation: Agricultural technician\",\"female_pct_male: 0.9159349\noccupation: Agricultural, forestry or horticultural plant operator\",\"female_pct_male: 0.4669713\noccupation: Air Transport Professionals\",\"female_pct_male: 0.7197093\noccupation: Aircraft maintenance engineer\",\"female_pct_male: 0.6477242\noccupation: Ambulance officer or paramedic\",\"female_pct_male: 0.7486455\noccupation: Amusement, fitness or sports centre manager\",\"female_pct_male: 0.7719746\noccupation: Anaesthetist\",\"female_pct_male: 0.8182139\noccupation: Animal attendant or trainer\",\"female_pct_male: 0.7073280\noccupation: Aquaculture farmer\",\"female_pct_male: 0.8155621\noccupation: Aquaculture worker\",\"female_pct_male: 0.7706101\noccupation: Architect or landscape architect\",\"female_pct_male: 0.7104282\noccupation: Architectural, building or surveying technician\",\"female_pct_male: 0.6785687\noccupation: Archivist, curator or records manager\",\"female_pct_male: 0.5437945\noccupation: Artistic director, media producer or presenter\",\"female_pct_male: 0.8675531\noccupation: Assembly line worker\",\"female_pct_male: 0.5468084\noccupation: Auctioneer, or stock and station agent\",\"female_pct_male: 0.7572485\noccupation: Auditor, company secretary or corporate treasurer\",\"female_pct_male: 0.8402798\noccupation: Author, or book or script editor\",\"female_pct_male: 0.9425814\noccupation: Automobile driver\",\"female_pct_male: 0.8706776\noccupation: Automotive electrician\",\"female_pct_male: 0.6471763\noccupation: Bank teller, officer or employee\",\"female_pct_male: 0.9254254\noccupation: Bar attendant or barista\",\"female_pct_male: 0.8086102\noccupation: Barrister\",\"female_pct_male: 0.8206941\noccupation: Beauty therapist\",\"female_pct_male: 0.5204537\noccupation: Betting clerk\",\"female_pct_male: 0.7898408\noccupation: Binder, finisher or screen printer\",\"female_pct_male: 0.7313445\noccupation: Bookkeeper\",\"female_pct_male: 0.8933842\noccupation: Bricklayer or stonemason\",\"female_pct_male: 0.6425972\noccupation: Building or plumbing labourer\",\"female_pct_male: 0.7802480\noccupation: Bus or coach driver\",\"female_pct_male: 0.8019429\noccupation: Butcher or smallgoods maker\",\"female_pct_male: 0.8141063\noccupation: Cabinet maker\",\"female_pct_male: 0.7913956\noccupation: Café or restaurant manager\",\"female_pct_male: 0.8272922\noccupation: Café worker\",\"female_pct_male: 0.8640756\noccupation: Call or contact centre or customer service manager\",\"female_pct_male: 0.9283483\noccupation: Call or contact centre worker\",\"female_pct_male: 0.8472967\noccupation: Canvas or leather goods maker\",\"female_pct_male: 0.7665174\noccupation: Car detailer\",\"female_pct_male: 0.6561408\noccupation: Caravan park manager\",\"female_pct_male: 0.8900880\noccupation: Caretaker\",\"female_pct_male: 0.8167341\noccupation: Carpenter and joiner\",\"female_pct_male: 0.7931506\noccupation: Cartographer or surveyor\",\"female_pct_male: 0.9414746\noccupation: Checkout operator or office cashier\",\"female_pct_male: 0.8926717\noccupation: Chef\",\"female_pct_male: 0.8821316\noccupation: Chemical or materials engineer\",\"female_pct_male: 0.8127076\noccupation: Chemical, gas, petroleum or power generation plant operator\",\"female_pct_male: 0.8007502\noccupation: Chemist, or food and wine scientist\",\"female_pct_male: 0.8489437\noccupation: Chief executive officer or managing director\",\"female_pct_male: 0.8237916\noccupation: Child care centre director\",\"female_pct_male: 0.7363105\noccupation: Child carer\",\"female_pct_male: 0.9399279\noccupation: Chiropractor or osteopath\",\"female_pct_male: 0.8793165\noccupation: Civil engineering draftsperson or technician\",\"female_pct_male: 0.8306991\noccupation: Civil engineering professional\",\"female_pct_male: 0.8045052\noccupation: Clay, concrete, glass or stone processing machine operator\",\"female_pct_male: 0.6635528\noccupation: Cleaner - commercial\",\"female_pct_male: 0.8338400\noccupation: Cleaner - domestic\",\"female_pct_male: 0.6620731\noccupation: Clothing trades worker\",\"female_pct_male: 0.6607088\noccupation: Commissioned officer - management\",\"female_pct_male: 0.7729414\noccupation: Complementary health therapist\",\"female_pct_male: 0.8153297\noccupation: Computer network professional\",\"female_pct_male: 0.7725698\noccupation: Concreter\",\"female_pct_male: 0.8108049\noccupation: Conference and event organiser\",\"female_pct_male: 0.7872533\noccupation: Construction manager\",\"female_pct_male: 0.7746409\noccupation: Contract, program or project administrator\",\"female_pct_male: 0.8711819\noccupation: Conveyancer or legal executive\",\"female_pct_male: 0.8728652\noccupation: Cook\",\"female_pct_male: 0.8867183\noccupation: Corporate services manager\",\"female_pct_male: 0.8291466\noccupation: Counsellor\",\"female_pct_male: 0.7808078\noccupation: Courier or postal deliverer\",\"female_pct_male: 0.7932180\noccupation: Court or legal clerk\",\"female_pct_male: 0.8542089\noccupation: Crane, hoist or lift operator\",\"female_pct_male: 0.7764445\noccupation: Credit or loans officer\",\"female_pct_male: 0.7465758\noccupation: Crop farm worker\",\"female_pct_male: 0.7327702\noccupation: Crop farmer\",\"female_pct_male: 0.8339193\noccupation: Database or systems administrator, or IT security specialist\",\"female_pct_male: 0.7734610\noccupation: Debt collector\",\"female_pct_male: 0.8532636\noccupation: Deck or fishing hand\",\"female_pct_male: 0.6895649\noccupation: Defence force member - other ranks\",\"female_pct_male: 0.6142505\noccupation: Delivery driver\",\"female_pct_male: 0.7429183\noccupation: Dental hygienist, technician or therapist\",\"female_pct_male: 0.8958405\noccupation: Dental nurse or assistant\",\"female_pct_male: 0.8534591\noccupation: Dental practitioner\",\"female_pct_male: 0.7485060\noccupation: Dietician\",\"female_pct_male: 0.8458039\noccupation: Diversional therapist\",\"female_pct_male: 0.7090316\noccupation: Driller, miner or shot firer\",\"female_pct_male: 0.7594864\noccupation: Driving instructor\",\"female_pct_male: 0.8892958\noccupation: Earthmoving plant operator\",\"female_pct_male: 0.8492340\noccupation: Economist\",\"female_pct_male: 0.8126631\noccupation: Education advisor or reviewer\",\"female_pct_male: 0.7948396\noccupation: Education aide\",\"female_pct_male: 0.7728195\noccupation: Electrical distribution trades worker\",\"female_pct_male: 0.7622138\noccupation: Electrical engineer\",\"female_pct_male: 0.7864053\noccupation: Electrical engineering draftsperson or technician\",\"female_pct_male: 0.6414388\noccupation: Electrician\",\"female_pct_male: 0.5059357\noccupation: Electronic engineering draftsperson or technician\",\"female_pct_male: 0.6351317\noccupation: Electronic equipment trades worker\",\"female_pct_male: 0.8537948\noccupation: Electronics engineer\",\"female_pct_male: 0.7399353\noccupation: Engineering manager\",\"female_pct_male: 0.8579073\noccupation: Enrolled or mothercraft nurse\",\"female_pct_male: 0.7900309\noccupation: Environmental scientist\",\"female_pct_male: 0.7871955\noccupation: Fashion, industrial or jewellery designer\",\"female_pct_male: 0.8849572\noccupation: Fast food cook\",\"female_pct_male: 0.7976200\noccupation: Fencer\",\"female_pct_male: 0.8196740\noccupation: Filing clerk\",\"female_pct_male: 0.7902258\noccupation: Film, television radio or stage director\",\"female_pct_male: 0.7101032\noccupation: Finance manager\",\"female_pct_male: 0.9432433\noccupation: Financial broker\",\"female_pct_male: 0.8030663\noccupation: Financial dealer\",\"female_pct_male: 0.8310559\noccupation: Financial investment advisor or manager\",\"female_pct_male: 0.7503143\noccupation: Fire or emergency service worker\",\"female_pct_male: 0.8000144\noccupation: Fitness instructor\",\"female_pct_male: 0.7756237\noccupation: Floor finisher\",\"female_pct_male: 0.7838051\noccupation: Florist\",\"female_pct_male: 0.7594974\noccupation: Food or drink factory worker\",\"female_pct_male: 0.4675501\noccupation: Forestry or logging worker\",\"female_pct_male: 0.9416147\noccupation: Forklift driver\",\"female_pct_male: 0.7658297\noccupation: Freight or furniture handler\",\"female_pct_male: 0.8157640\noccupation: Funeral worker\",\"female_pct_male: 0.8135635\noccupation: Gallery, library or museum technician\",\"female_pct_male: 0.7486650\noccupation: Gallery, museum or tour guide\",\"female_pct_male: 0.7788701\noccupation: Gaming worker\",\"female_pct_male: 0.6172567\noccupation: Garden or nursery labourer\",\"female_pct_male: 0.7575231\noccupation: Gardener\",\"female_pct_male: 0.7361250\noccupation: General manager\",\"female_pct_male: 0.7324361\noccupation: General medical practitioner\",\"female_pct_male: 0.8194554\noccupation: Geologist or geophysicist\",\"female_pct_male: 0.7098722\noccupation: Glazier\",\"female_pct_male: 0.6558503\noccupation: Graphic or web designer, or illustrator\",\"female_pct_male: 0.5829839\noccupation: Graphic pre-press trades worker\",\"female_pct_male: 0.7149808\noccupation: Hairdresser\",\"female_pct_male: 0.6835563\noccupation: Handyperson\",\"female_pct_male: 0.7720700\noccupation: Health and welfare services manager\",\"female_pct_male: 0.7441147\noccupation: Hotel or motel manager\",\"female_pct_male: 0.8105606\noccupation: Hotel service manager\",\"female_pct_male: 0.6912447\noccupation: Housekeeper\",\"female_pct_male: 0.7991670\noccupation: Human resource clerk\",\"female_pct_male: 0.5906936\noccupation: Human resource manager\",\"female_pct_male: 0.6926848\noccupation: Human resource professional\",\"female_pct_male: 0.7982518\noccupation: Importer, exporter or wholesaler\",\"female_pct_male: 0.8284511\noccupation: Industrial spray painter\",\"female_pct_male: 0.6268884\noccupation: Industrial, mechanical or production engineer\",\"female_pct_male: 0.8654787\noccupation: Infant or primary school teacher\",\"female_pct_male: 0.7851308\noccupation: Inquiry clerk\",\"female_pct_male: 0.7362520\noccupation: Inspector or regulatory officer\",\"female_pct_male: 0.6221543\noccupation: Insulation or home improvement installer\",\"female_pct_male: 0.6817915\noccupation: Insurance agent or salesperson\",\"female_pct_male: 0.7448373\noccupation: Insurance investigator, loss adjuster or risk surveyor\",\"female_pct_male: 0.5894006\noccupation: Insurance, money market or statistical clerk\",\"female_pct_male: 0.6910777\noccupation: Intelligence or policy analyst\",\"female_pct_male: 0.7767876\noccupation: Interior designer\",\"female_pct_male: 0.7244771\noccupation: Internal medicine specialist\",\"female_pct_male: 0.6150741\noccupation: IT business or systems analyst\",\"female_pct_male: 0.7416065\noccupation: IT manager\",\"female_pct_male: 0.6758969\noccupation: IT sales assistant\",\"female_pct_male: 0.7345028\noccupation: IT sales professional\",\"female_pct_male: 0.8234394\noccupation: IT support or test engineer\",\"female_pct_male: 0.8429319\noccupation: IT support technician\",\"female_pct_male: 0.7686550\noccupation: IT trainer\",\"female_pct_male: 0.8255411\noccupation: Jeweller\",\"female_pct_male: 0.5971213\noccupation: Journalist or other writer\",\"female_pct_male: 0.7846422\noccupation: Judicial or other legal professionals\",\"female_pct_male: 0.8598512\noccupation: Keyboard operator\",\"female_pct_male: 0.7962440\noccupation: Kitchen hand\",\"female_pct_male: 0.6375213\noccupation: Land economist or valuer\",\"female_pct_male: 0.8737733\noccupation: Laundry worker\",\"female_pct_male: 0.7681507\noccupation: Legislator\",\"female_pct_male: 0.8391050\noccupation: Librarian\",\"female_pct_male: 0.6448551\noccupation: Library assistant\",\"female_pct_male: 0.5257237\noccupation: Licensed club manager\",\"female_pct_male: 0.9668139\noccupation: Life scientist\",\"female_pct_male: 0.8231821\noccupation: Livestock and mixed crop farm worker\",\"female_pct_male: 0.7514982\noccupation: Livestock farm worker\",\"female_pct_male: 0.7062580\noccupation: Livestock farmer\",\"female_pct_male: 0.8374446\noccupation: Mail sorter\",\"female_pct_male: 0.6836566\noccupation: Management and organisation analyst\",\"female_pct_male: 0.8335544\noccupation: Manufacturer\",\"female_pct_male: 0.7000997\noccupation: Marine transport professional\",\"female_pct_male: 0.7399418\noccupation: Market research interviewer\",\"female_pct_male: 0.7052492\noccupation: Massage therapist\",\"female_pct_male: 0.6219403\noccupation: Meat boners and slicer, or slaughterer\",\"female_pct_male: 0.7541924\noccupation: Meat, poultry or seafood process worker\",\"female_pct_male: 0.9216012\noccupation: Mechanical engineering draftsperson or technician\",\"female_pct_male: 0.6385768\noccupation: Medical imaging professional\",\"female_pct_male: 0.6969258\noccupation: Medical laboratory scientist\",\"female_pct_male: 0.7042302\noccupation: Medical technician\",\"female_pct_male: 0.7573878\noccupation: Metal engineering process worker\",\"female_pct_male: 0.8673517\noccupation: Metal fitter or machinist\",\"female_pct_male: 0.9158869\noccupation: Metal press operator\",\"female_pct_male: 0.7447175\noccupation: Middle school teacher\",\"female_pct_male: 0.8572486\noccupation: Midwife\",\"female_pct_male: 0.3957781\noccupation: Mining engineer\",\"female_pct_male: 0.6111464\noccupation: Mixed crop and livestock farmer\",\"female_pct_male: 0.9013670\noccupation: Model or sales demonstrator\",\"female_pct_male: 0.9521601\noccupation: Motor mechanic\",\"female_pct_male: 0.8814043\noccupation: Motor vehicle and vehicle parts salesperson\",\"female_pct_male: 0.8577867\noccupation: Motor vehicle parts and accessories fitter\",\"female_pct_male: 0.7111954\noccupation: Music professional\",\"female_pct_male: 0.8041753\noccupation: Nurse educator or researcher\",\"female_pct_male: 0.7609233\noccupation: Nurseryperson\",\"female_pct_male: 0.8668287\noccupation: Nursing supervisor or manager\",\"female_pct_male: 0.8243861\noccupation: Nursing support or personal care worker\",\"female_pct_male: 0.8509095\noccupation: Occupational and environmental health professional\",\"female_pct_male: 0.9288161\noccupation: Occupational therapist\",\"female_pct_male: 0.8481644\noccupation: Office administrator or manager\",\"female_pct_male: 0.8884399\noccupation: Optometrist or orthoptist\",\"female_pct_male: 0.8950577\noccupation: Other accommodation or hospitality manager\",\"female_pct_male: 0.7766037\noccupation: Other building or engineering technician\",\"female_pct_male: 0.7796465\noccupation: Other cleaner\",\"female_pct_male: 0.8468492\noccupation: Other clerical or office support worker\",\"female_pct_male: 0.9378021\noccupation: Other construction or mining labourer\",\"female_pct_male: 0.7394005\noccupation: Other education manager\",\"female_pct_male: 0.7740517\noccupation: Other engineering professional\",\"female_pct_male: 0.9391652\noccupation: Other farm, forestry or garden worker\",\"female_pct_male: 0.8807904\noccupation: Other Health Diagnostic and Promotion Professionals\",\"female_pct_male: 0.9939243\noccupation: Other hospitality, retail or service manager\",\"female_pct_male: 0.9057973\noccupation: Other machine operator\",\"female_pct_male: 0.8165051\noccupation: Other Medical Practitioners\",\"female_pct_male: 0.8255690\noccupation: Other miscellaneous clerical or administrative worker\",\"female_pct_male: 0.9260120\noccupation: Other Miscellaneous Labourers\",\"female_pct_male: 0.8390349\noccupation: Other miscellaneous technician and trades worker\",\"female_pct_male: 0.9710199\noccupation: Other mobile plant operator\",\"female_pct_male: 0.8012314\noccupation: Other personal service worker\",\"female_pct_male: 0.6729771\noccupation: Other sales assistant or salesperson\",\"female_pct_male: 0.8557790\noccupation: Other specialist manager\",\"female_pct_male: 0.8420392\noccupation: Other stationary plant operator\",\"female_pct_male: 0.6818155\noccupation: Outdoor adventure guide\",\"female_pct_male: 0.8567226\noccupation: Painting trades worker\",\"female_pct_male: 0.9022005\noccupation: Paper or wood processing machine operator\",\"female_pct_male: 0.7367461\noccupation: Pastry cook's assistant\",\"female_pct_male: 0.7679993\noccupation: Paving and surfacing labourer\",\"female_pct_male: 0.8693522\noccupation: Performing arts technician\",\"female_pct_male: 0.9810862\noccupation: Personal care consultant\",\"female_pct_male: 0.6796424\noccupation: Personal Carers and Assistants\",\"female_pct_male: 0.7344281\noccupation: Pharmacist\",\"female_pct_male: 0.8341112\noccupation: Pharmacy sales assistant\",\"female_pct_male: 0.6740050\noccupation: Photographer\",\"female_pct_male: 0.9193654\noccupation: Photographic developer and printer\",\"female_pct_male: 0.9276095\noccupation: Plasterer\",\"female_pct_male: 0.7703041\noccupation: Plastics or rubber factory worker\",\"female_pct_male: 0.9284460\noccupation: Plastics or rubber production machine operator\",\"female_pct_male: 0.8099138\noccupation: Plumber\",\"female_pct_male: 0.8257144\noccupation: Podiatrist\",\"female_pct_male: 0.6850850\noccupation: Police\",\"female_pct_male: 0.9325418\noccupation: Policy and planning manager\",\"female_pct_male: 0.7511729\noccupation: Pre-school or kindergarten teacher\",\"female_pct_male: 0.5809175\noccupation: Precision metal trades worker\",\"female_pct_male: 0.7320101\noccupation: Printer\",\"female_pct_male: 0.9080256\noccupation: Printing assistant or table worker\",\"female_pct_male: 0.7032354\noccupation: Prison officer\",\"female_pct_male: 0.8994070\noccupation: Private teacher or tutor\",\"female_pct_male: 0.5731580\noccupation: Product quality controller\",\"female_pct_male: 0.9441088\noccupation: Production manager\",\"female_pct_male: 0.6930066\noccupation: Psychiatrist\",\"female_pct_male: 0.8873608\noccupation: Psychologist\",\"female_pct_male: 0.7440285\noccupation: Public relations officer\",\"female_pct_male: 0.8050511\noccupation: Public servant - administrative service officer - levels 1-2\",\"female_pct_male: 0.6552533\noccupation: Public servant - administrative service officer - levels 3-4\",\"female_pct_male: 0.7755509\noccupation: Railway track worker\",\"female_pct_male: 0.7517861\noccupation: Real estate sales agent\",\"female_pct_male: 0.7387287\noccupation: Receiving and dispatching clerk\",\"female_pct_male: 0.7167978\noccupation: Receptionist\",\"female_pct_male: 0.6527732\noccupation: Registered nurse\",\"female_pct_male: 0.9541950\noccupation: Religious leader\",\"female_pct_male: 0.5310896\noccupation: Research and development manager\",\"female_pct_male: 0.9350362\noccupation: Retail manager\",\"female_pct_male: 0.8615937\noccupation: Retail or wool buyer\",\"female_pct_male: 0.7254716\noccupation: Retail supervisor\",\"female_pct_male: 0.7997518\noccupation: Rubbish or recycling collector\",\"female_pct_male: 0.8170581\noccupation: Safety inspector\",\"female_pct_male: 0.7225815\noccupation: Sales assistant - general\",\"female_pct_male: 0.5938446\noccupation: Sales representative\",\"female_pct_male: 0.6832046\noccupation: School principal\",\"female_pct_male: 0.7443098\noccupation: Science technician\",\"female_pct_male: 0.7682960\noccupation: Secondary school teacher\",\"female_pct_male: 0.7159488\noccupation: Secretary\",\"female_pct_male: 0.7130289\noccupation: Security officer or guard\",\"female_pct_male: 0.6863147\noccupation: Senior non-commissioned defence force member\",\"female_pct_male: 0.8898889\noccupation: Service station attendant\",\"female_pct_male: 0.7797496\noccupation: Shearer\",\"female_pct_male: 0.7636972\noccupation: Sheetmetal trades worker\",\"female_pct_male: 0.5790612\noccupation: Shelf filler\",\"female_pct_male: 0.6499068\noccupation: Signwriter\",\"female_pct_male: 0.7911517\noccupation: Social Professionals\",\"female_pct_male: 0.8767146\noccupation: Social worker\",\"female_pct_male: 0.5736283\noccupation: Software and applications programmer\",\"female_pct_male: 0.8877657\noccupation: Special care worker\",\"female_pct_male: 0.7744893\noccupation: Special needs teacher\",\"female_pct_male: 0.9591520\noccupation: Speech professional or audiologist\",\"female_pct_male: 0.6259991\noccupation: Sports Coaches, Instructors and Officials\",\"female_pct_male: 0.8561864\noccupation: Sportsperson\",\"female_pct_male: 0.7093128\noccupation: Storeperson\",\"female_pct_male: 0.6541232\noccupation: Street vendor or related salesperson\",\"female_pct_male: 0.7938187\noccupation: Structural steel construction worker\",\"female_pct_male: 0.7455621\noccupation: Structural steel or welding trades worker\",\"female_pct_male: 0.8903879\noccupation: Supply and distribution manager\",\"female_pct_male: 0.9291524\noccupation: Surgeon\",\"female_pct_male: 0.7005399\noccupation: Switchboard operator\",\"female_pct_male: 0.6123417\noccupation: TAFE teacher or tutor\",\"female_pct_male: 0.7431486\noccupation: Teacher of English to speakers of other languages\",\"female_pct_male: 0.7418510\noccupation: Technical sales representative\",\"female_pct_male: 0.8374288\noccupation: Telecommunications engineering professional\",\"female_pct_male: 0.8088446\noccupation: Telecommunications technical specialist\",\"female_pct_male: 0.7423428\noccupation: Telecommunications trades worker\",\"female_pct_male: 0.8689631\noccupation: Telemarketer\",\"female_pct_male: 0.8274413\noccupation: Textile or footwear production machine operator\",\"female_pct_male: 0.7493890\noccupation: Ticket seller\",\"female_pct_male: 0.5570726\noccupation: Timber or wood process worker\",\"female_pct_male: 0.9192445\noccupation: Tourism or travel adviser\",\"female_pct_male: 0.6297373\noccupation: Training and development officer\",\"female_pct_male: 0.9538074\noccupation: Transport services manager\",\"female_pct_male: 0.6407275\noccupation: Travel attendant\",\"female_pct_male: 0.8492820\noccupation: Truck driver\",\"female_pct_male: 0.7395882\noccupation: University lecturer or tutor\",\"female_pct_male: 0.5951449\noccupation: Upholsterer\",\"female_pct_male: 0.7134378\noccupation: Urban and regional planner\",\"female_pct_male: 0.5980321\noccupation: Vehicle body builder or trimmer\",\"female_pct_male: 0.9940162\noccupation: Vehicle painter\",\"female_pct_male: 0.6501779\noccupation: Vending machine attendant\",\"female_pct_male: 0.7126401\noccupation: Veterinarian\",\"female_pct_male: 0.6166423\noccupation: Veterinary nurse\",\"female_pct_male: 0.8034797\noccupation: Visual arts and crafts professional\",\"female_pct_male: 0.8554022\noccupation: Waiter\",\"female_pct_male: 0.7749256\noccupation: Wall and floor tiler\",\"female_pct_male: 0.9534465\noccupation: Welfare support worker\",\"female_pct_male: 0.6970205\noccupation: Welfare, recreation or community arts worker\",\"female_pct_male: 0.8439843\noccupation: Window dresser\",\"female_pct_male: 0.6423304\noccupation: Wood machinist or other wood trades worker\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(238,180,34,1)\",\"opacity\":1,\"size\":2.26771653543307,\"symbol\":\"circle\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(238,180,34,1)\"}},\"hoveron\":\"points\",\"name\":\"FALSE\",\"legendgroup\":\"FALSE\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[0.988671121531561,2.97970435859356,4.01258620992527,4.03530392423413,3.95520213288562,3.97704991558639,4.76439653710118,4.90337160429847,5.00733164102325,4.98479828205689,5.22883061367798,5.10902032991208,5.10571126864313,5.9692932180389,6.98561962390229,8.06701857378424,7.97498718184473],\"y\":[1.03028047909461,1.00446784971005,1.47385679415403,1.13302584955941,1.1602550249599,1.08967664875283,1.05725877171991,1.08204621162381,1.06824752533049,1.01572845559948,1.0240074454844,1.08237012211127,1.00931028801217,1.06566934032199,1.02172109374671,1.00704888687472,1.18540296389961],\"text\":[\"female_pct_male: 1.0302805\noccupation: Baker or pastrycook\",\"female_pct_male: 1.0044678\noccupation: Greenkeeper\",\"female_pct_male: 1.4738568\noccupation: Multimedia specialist or web developer\",\"female_pct_male: 1.1330258\noccupation: Other factory process worker\",\"female_pct_male: 1.1602550\noccupation: Other hospitality worker\",\"female_pct_male: 1.0896766\noccupation: Other information and organisation professional\",\"female_pct_male: 1.0572588\noccupation: Other natural or physical science professional\",\"female_pct_male: 1.0820462\noccupation: Packer\",\"female_pct_male: 1.0682475\noccupation: Payroll clerk\",\"female_pct_male: 1.0157285\noccupation: Personal assistant\",\"female_pct_male: 1.0240074\noccupation: Physiotherapist\",\"female_pct_male: 1.0823701\noccupation: Practice manager\",\"female_pct_male: 1.0093103\noccupation: Primary products inspector\",\"female_pct_male: 1.0656693\noccupation: Purchasing or supply logistics clerk\",\"female_pct_male: 1.0217211\noccupation: Sewing machinist\",\"female_pct_male: 1.0070489\noccupation: Solicitor\",\"female_pct_male: 1.1854030\noccupation: Train or tram driver\"],\"type\":\"scatter\",\"mode\":\"markers\",\"marker\":{\"autocolorscale\":false,\"color\":\"rgba(100,149,237,1)\",\"opacity\":1,\"size\":2.26771653543307,\"symbol\":\"circle\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(100,149,237,1)\"}},\"hoveron\":\"points\",\"name\":\"TRUE\",\"legendgroup\":\"TRUE\",\"showlegend\":true,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"name\":\"FALSE\",\"legendgroup\":\"FALSE\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"name\":\"TRUE\",\"legendgroup\":\"TRUE\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null},{\"x\":[0.4,8.6],\"y\":[1,1],\"text\":\"\",\"type\":\"scatter\",\"mode\":\"lines\",\"line\":{\"width\":1.88976377952756,\"color\":\"rgba(51,51,51,1)\",\"dash\":\"dot\"},\"hoveron\":\"points\",\"showlegend\":false,\"xaxis\":\"x\",\"yaxis\":\"y\",\"hoverinfo\":\"text\",\"frame\":null}],\"layout\":{\"margin\":{\"t\":43.7625570776256,\"r\":7.30593607305936,\"b\":25.5707762557078,\"l\":48.9497716894977},\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":14.6118721461187},\"title\":{\"text\":\"Females earn less than males in almost all occupations\",\"font\":{\"color\":\"rgba(51,51,51,1)\",\"family\":\"\",\"size\":17.5342465753425},\"x\":0,\"xref\":\"paper\"},\"xaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[0.4,8.6],\"tickmode\":\"array\",\"ticktext\":[\"Managers\",\"Professionals\",\"Technicians\nand Trades\nWorkers\",\"Community\nand\nPersonal\nService\nWorkers\",\"Clerical\nand\nAdministrative\nWorkers\",\"Sales\nWorkers\",\"Machinery\nOperators\nand\nDrivers\",\"Labourers\"],\"tickvals\":[1,2,3,4,5,6,7,8],\"categoryorder\":\"array\",\"categoryarray\":[\"Managers\",\"Professionals\",\"Technicians\nand Trades\nWorkers\",\"Community\nand\nPersonal\nService\nWorkers\",\"Clerical\nand\nAdministrative\nWorkers\",\"Sales\nWorkers\",\"Machinery\nOperators\nand\nDrivers\",\"Labourers\"],\"nticks\":null,\"ticks\":\"\",\"tickcolor\":null,\"ticklen\":3.65296803652968,\"tickwidth\":0,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(127,127,127,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"y\",\"title\":{\"text\":\"\",\"font\":{\"color\":\"rgba(127,127,127,1)\",\"family\":\"\",\"size\":14.6118721461187}},\"hoverformat\":\".2f\"},\"yaxis\":{\"domain\":[0,1],\"automargin\":true,\"type\":\"linear\",\"autorange\":false,\"range\":[0.341874122996299,1.52776073087583],\"tickmode\":\"array\",\"ticktext\":[\"50%\",\"100%\",\"150%\"],\"tickvals\":[0.5,1,1.5],\"categoryorder\":\"array\",\"categoryarray\":[\"50%\",\"100%\",\"150%\"],\"nticks\":null,\"ticks\":\"\",\"tickcolor\":null,\"ticklen\":3.65296803652968,\"tickwidth\":0,\"showticklabels\":true,\"tickfont\":{\"color\":\"rgba(127,127,127,1)\",\"family\":\"\",\"size\":11.689497716895},\"tickangle\":-0,\"showline\":false,\"linecolor\":null,\"linewidth\":0,\"showgrid\":false,\"gridcolor\":null,\"gridwidth\":0,\"zeroline\":false,\"anchor\":\"x\",\"title\":{\"text\":\"female / male\",\"font\":{\"color\":\"rgba(127,127,127,1)\",\"family\":\"\",\"size\":14.6118721461187}},\"hoverformat\":\".2f\"},\"shapes\":[{\"type\":\"rect\",\"fillcolor\":null,\"line\":{\"color\":null,\"width\":0,\"linetype\":[]},\"yref\":\"paper\",\"xref\":\"paper\",\"x0\":0,\"x1\":1,\"y0\":0,\"y1\":1}],\"showlegend\":false,\"legend\":{\"bgcolor\":null,\"bordercolor\":null,\"borderwidth\":0,\"font\":{\"color\":\"rgba(0,0,0,1)\",\"family\":\"\",\"size\":11.689497716895},\"y\":1},\"hovermode\":\"closest\",\"barmode\":\"relative\"},\"config\":{\"doubleClick\":\"reset\",\"showSendToCloud\":false,\"displayModeBar\":false},\"source\":\"A\",\"attrs\":{\"6ac87be86268\":{\"x\":{},\"y\":{},\"colour\":{},\"type\":\"scatter\"},\"6ac87fa8223f\":{\"label\":{},\"x\":{},\"y\":{},\"colour\":{}},\"6ac87d2a3b4d\":{\"yintercept\":{}}},\"cur_data\":\"6ac87be86268\",\"visdat\":{\"6ac87be86268\":[\"function (y) \",\"x\"],\"6ac87fa8223f\":[\"function (y) \",\"x\"],\"6ac87d2a3b4d\":[\"function (y) \",\"x\"]},\"highlight\":{\"on\":\"plotly_click\",\"persistent\":false,\"dynamic\":false,\"selectize\":false,\"opacityDim\":0.2,\"selected\":{\"opacity\":1},\"debounce\":0},\"shinyEvents\":[\"plotly_hover\",\"plotly_click\",\"plotly_selected\",\"plotly_relayout\",\"plotly_brushed\",\"plotly_brushing\",\"plotly_clickannotation\",\"plotly_doubleclick\",\"plotly_deselect\",\"plotly_afterplot\"],\"base_url\":\"https://plot.ly\"},\"evals\":[],\"jsHooks\":[]}\r","date":1560038400,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1560038400,"objectID":"7c7a3eb46419dce3113e60a6ca49b82a","permalink":"/post/the-australian-gender-wage-gap-interactive-viz/","publishdate":"2019-06-09T00:00:00Z","relpermalink":"/post/the-australian-gender-wage-gap-interactive-viz/","section":"post","summary":"A little more dataviz","tags":[],"title":"The Australian gender wage gap: interactive viz","type":"post"},{"authors":null,"categories":["econometrics"],"content":"Unlike most implementations of linear models (e.g. Stata, R), Python packages don\u0026rsquo;t usually drop perfectly collinear variables.\nHere\u0026rsquo;s Statsmodels as a first example: (see https://github.com/statsmodels/statsmodels/issues/3824)\nimport numpy as np import statsmodels.formula.api as smf import pandas as pd  e = np.random.normal(size = 30) # creating two variables x and collinear # where collinear is just 2 times x x1 = np.arange(30) x2 = 2 * x1 y = 2 * x1 + e data = pd.DataFrame({\u0026quot;y\u0026quot;: y, \u0026quot;x1\u0026quot;: x1, \u0026quot;x2\u0026quot;: x2})  model = smf.ols(\u0026quot;y ~ x1 + x2\u0026quot;, data = data) res = model.fit() res.summary()  OLS Regression Results  Dep. Variable: y  R-squared:   0.998   Model: OLS  Adj. R-squared:   0.998   Method: Least Squares  F-statistic:  1.354e+04   Date: Tue, 04 Jun 2019  Prob (F-statistic): 3.80e-39   Time: 20:23:08  Log-Likelihood:   -35.185   No. Observations:  30  AIC:   74.37   Df Residuals:  28  BIC:   77.17   Df Model:  1    \n  Covariance Type: nonrobust    \n    coef std err t P\u0026gt;|t| [0.025 0.975]\n  Intercept  0.3681  0.288  1.277  0.212  -0.222  0.959   x1  0.3973  0.003  116.364  0.000  0.390  0.404   x2  0.7946  0.007  116.364  0.000  0.781  0.809    Omnibus:  3.352  Durbin-Watson:   2.071   Prob(Omnibus):  0.187  Jarque-Bera (JB):   2.993   Skew: -0.715  Prob(JB):   0.224   Kurtosis:  2.407  Cond. No.  7.31e+16  Warnings:[1] Standard Errors assume that the covariance matrix of the errors is correctly specified.[2] The smallest eigenvalue is 8.01e-30. This might indicate that there arestrong multicollinearity problems or that the design matrix is singular.\nNeither does the popular machine learning package Scikit-Learn:\nfrom sklearn.linear_model import LinearRegression lm = LinearRegression() lm.fit(X = data[[\u0026quot;x1\u0026quot;, \u0026quot;x2\u0026quot;]], y = data.y) lm.coef_  array([0.39728922, 0.79457845])  source: https://knowyourmeme.com/photos/1250147-yamero\n","date":1559692800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1559692800,"objectID":"9f8605c75e42c0ac75b5ad3ba81a3f6a","permalink":"/post/psa-python-ols-and-perfectly-collinear-variables/","publishdate":"2019-06-05T00:00:00Z","relpermalink":"/post/psa-python-ols-and-perfectly-collinear-variables/","section":"post","summary":"Unlike most implementations of linear models, Python packages don't usually drop perfectly collinear variables.","tags":[],"title":"PSA: Python, OLS and perfectly collinear variables","type":"post"},{"authors":null,"categories":[],"content":" bnmr is a wrapper for httr to access BNM (Malaysia\u0026rsquo;s central bank)\u0026rsquo;s recently released API. I wrote this to practice writing R packages, with lots of help from the R Packages book.\nUsing bnmr is really simple, e.g. to get interest rate data in January 2019:\ninterest_rate(year = 2019, month = 1)  Exception handling I appreciate Daniel\u0026rsquo;s assistance in adding some exception handling to the base_rate() function.\nI realised how little I know about exception handling in R while writing this package. Specifically, I learned along the way that you should use NULL for optional arguments instead of missing().\nVectorise The BNM API allows the user to access some variables with daily measures. Ideally, bnmr functions should be vectorised, so that I could simply call interest_rate(year = 2019) and obtain interest rates throughout 2019. However, the daily API endpoints only have three options - do not specify anything, specify date, or specify year/month combination. To obtain interest rates in a given year, you would have to make the following GET requests:\n GET interest-rate/year/2019/month/1 GET interest-rate/year/2019/month/2 GET interest-rate/year/2019/month/3 GET interest-rate/year/2019/month/4  Right now interest_rate(year = 2019) works. The API seems to have a very low request limit. After a few attempts I run into a HTTP 429 error.\nI sloppily included some preliminary vectorisation code in opr(), which returns the overnight policy rate. However, place too many simultaneous API calls and the API will stop responding. Right now, I add a short time stop in between calls.\nMoving forward, I\u0026rsquo;ll be working on exposing errors within vectorised operations.\nReturning tidy data Right now the functions in this package sometimes return lists, and sometimes data frames, in accordance with jsonlite\u0026rsquo;s simplifying rules. I do not just want to return a tibble - the data should be returned in a tidy format. Currently I\u0026rsquo;m performing the reshaping using tidyr::gather() and tidyr::spread() in the renminbi_tbl() function.\npkgdown and documentation pkgdown makes it very simple to create a website for my package, which runs on GitHub Pages. Along the way, I found it very hard to write useful documentation - so the documentation, like the package, is also a work in progress.\ntesting I\u0026rsquo;ve added test coverage and continuous integration with Travis using the usethis package. However, I have my reservations about testing too much in the case of bnmr - currently, if the API fails, the tests necessarily fail. As I\u0026rsquo;m concerned that too much testing may cause the API to reject calls, I\u0026rsquo;m currently using the in-documentation examples as my test mechanism.\nInterested? If you want to try out bnmr, you\u0026rsquo;ll need the devtools package. Run the following code:\ndevtools::install_github(\u0026quot;philip-khor/bnmr\u0026quot;)  Alternately, use pak:\npak::pkg_install(\u0026quot;philip-khor/bnmr\u0026quot;)  ","date":1556928000,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1556928000,"objectID":"fc29faf4c5090561270dc1f4f9036645","permalink":"/post/my-first-package-bnmr/","publishdate":"2019-05-04T00:00:00Z","relpermalink":"/post/my-first-package-bnmr/","section":"post","summary":"A wrapper to access Malaysia's central bank's API","tags":[],"title":"My first package: bnmr","type":"post"},{"authors":["Philip Khor"],"categories":null,"content":" Click the Slides button above to demo Academic\u0026rsquo;s Markdown slides feature.   Supplementary notes can be added here, including code and math.\n","date":1554595200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1554595200,"objectID":"557dc08fd4b672a0c08e0a8cf0c9ff7d","permalink":"/publication/preprint/","publishdate":"2017-01-01T00:00:00Z","relpermalink":"/publication/preprint/","section":"publication","summary":"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum.","tags":["Source Themes"],"title":"An example preprint / working paper","type":"publication"},{"authors":[],"categories":[],"content":" Welcome to Slides Academic\nFeatures  Efficiently write slides in Markdown 3-in-1: Create, Present, and Publish your slides Supports speaker notes Mobile friendly slides  Controls  Next: Right Arrow or Space Previous: Left Arrow Start: Home Finish: End Overview: Esc Speaker notes: S Fullscreen: F Zoom: Alt + Click PDF Export: E  Code Highlighting Inline code: variable\nCode block:\nporridge = \u0026quot;blueberry\u0026quot; if porridge == \u0026quot;blueberry\u0026quot;: print(\u0026quot;Eating...\u0026quot;)  Math In-line math: $x + y = z$\nBlock math:\n$$ f\\left( x \\right) = \\;\\frac{{2\\left( {x + 4} \\right)\\left( {x - 4} \\right)}}{{\\left( {x + 4} \\right)\\left( {x + 1} \\right)}} $$\nFragments Make content appear incrementally\n{{% fragment %}} One {{% /fragment %}} {{% fragment %}} **Two** {{% /fragment %}} {{% fragment %}} Three {{% /fragment %}}  Press Space to play!\nOne  Two  Three \nA fragment can accept two optional parameters:\n class: use a custom style (requires definition in custom CSS) weight: sets the order in which a fragment appears  Speaker Notes Add speaker notes to your presentation\n{{% speaker_note %}} - Only the speaker can read these notes - Press `S` key to view {{% /speaker_note %}}  Press the S key to view the speaker notes!\n Only the speaker can read these notes Press S key to view   Themes  black: Black background, white text, blue links (default) white: White background, black text, blue links league: Gray background, white text, blue links beige: Beige background, dark text, brown links sky: Blue background, thin dark text, blue links   night: Black background, thick white text, orange links serif: Cappuccino background, gray text, brown links simple: White background, black text, blue links solarized: Cream-colored background, dark green text, blue links  Custom Slide Customize the slide style and background\n{{\u0026lt; slide background-image=\u0026quot;/img/boards.jpg\u0026quot; \u0026gt;}} {{\u0026lt; slide background-color=\u0026quot;#0000FF\u0026quot; \u0026gt;}} {{\u0026lt; slide class=\u0026quot;my-style\u0026quot; \u0026gt;}}  Custom CSS Example Let\u0026rsquo;s make headers navy colored.\nCreate assets/css/reveal_custom.css with:\n.reveal section h1, .reveal section h2, .reveal section h3 { color: navy; }  Questions? Ask\nDocumentation\n","date":1549324800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1549324800,"objectID":"0e6de1a61aa83269ff13324f3167c1a9","permalink":"/slides/example/","publishdate":"2019-02-05T00:00:00Z","relpermalink":"/slides/example/","section":"slides","summary":"An introduction to using Academic's Slides feature.","tags":[],"title":"Slides","type":"slides"},{"authors":null,"categories":["Python"],"content":" See here for part 1.\nMotivation DataTarik used feature importances from random forests to conclude that\n The \u0026lsquo;most important\u0026rsquo; ethnic composition appears to be Chinese Ethnicity as a whole is related to election outcomes.  I argue here that demography considered jointly has a greater relationship with election outcomes.\nIntroduction Here are the feature variables expressed as a correlation matrix and visualised in a heatmap.\nUsing the feature_importances implementation in scikit-learn, it\u0026rsquo;s unclear what\u0026rsquo;s going on when each feature tends to have strong associations with other features. Specifically, one feature tends to be the complement of another. If the algorithm tells that the proportion of Chinese is more important, perhaps the proportion of Chinese is inversely related with the proportion of Malays. If that is so, how do we tell which feature matters? Trying to interpret each feature as it is would be futile.\nAs discussed in explained.ai\u0026rsquo;s blog post (Beware Default Random Forest Importances), the default implementation of feature importance in scikit-learn is biased and susceptible to collinearity. More importantly, the features are almost perfectly collinear within each \u0026lsquo;meta-group\u0026rsquo; of features. Many of the age and race variables sum to 100%.\nHere is a plot of the distribution of the sum of age and race variables in the entire dataset.\nTo deal with the collinearity, Terence Parr, Kerem Turgutlu, Christopher Csiszar, and Jeremy Howard suggest to use drop-column importance in conjunction with the permutation importances metric. In contrast with the default feature importance metric, which measures the mean decrease in impurity, the permutation score permutates a column and then calculates the drop in the score from the baseline score. Do the following:\n compute baseline feature importance with permutation importance drop a column, retrain, and then recompute feature importance scores The importance score for a column is the difference between the baseline and the score for the model missing that column  Drop-column The feature importances from drop-column importances are shown as follows. These are computed using Terence Parr and Kerem Turgutlu\u0026rsquo;s rfpimp package:\nNow, race matters but age doesn\u0026rsquo;t matter. Age has a negative permutation score - apparently permuting the age columns improves the model\u0026rsquo;s performance?\nMeta-features A meta-features approach using permutation importance is another approach that can be taken here. rfpimp also provides an implementation of drop-column importances. The results are shown as follows:\nOver 10 runs, the ratio of feature importance of the race- to age-meta-feature was:\n[3.2307692307692304, 2.4666666666666672, 2.294117647058823, 3.2307692307692304, 2.058823529411764, 1.9999999999999996, 2.117647058823529, 3.3333333333333335, 2.8000000000000007, 2.235294117647059]  This confirms our result from drop-column that race matters here, but age doesn\u0026rsquo;t not matter.\nBut what if I consider all of them jointly? The permutation score skyrockets:\nand the permutation score over 10 runs is\n[0.3932584269662921, 0.38202247191011235, 0.4044943820224719, 0.3033707865168539, 0.3595505617977528, 0.2134831460674157, 0.348314606741573, 0.3146067415730337, 0.2584269662921348, 0.348314606741573]  which is far higher than the permutation scores from age- and race-meta-features.\nDecision trees To get a more interpretable model, we can use a decision tree model to fit the data. Using scikit-learn\u0026rsquo;s implementation of DecisionTreeClassifier, I get 71.2% accuracy on a test set of 40%. The decision tree can be found here. However, I don\u0026rsquo;t think it\u0026rsquo;s useful to answer our question either - it\u0026rsquo;s quite a complex tree, and it can\u0026rsquo;t give us a straight answer about whether age or race - or which aspects of age and race - are more important.\nPCA and demographic patterns There is a potential use case for principal component analysis (PCA) here. Perhaps PCA can identify demographic patterns among the age and race variables. The figure below shows the ethnic breakdown from an inverse transformation of the first principal component. This is done by first transforming the ethnic variables by scikit-learn\u0026rsquo;s PCA implementation, then using scikit-learn\u0026rsquo;s inverse_transform function to transform the data back to its original space. This gives us an idea of what the first principal component is picking up in the data.\nI haven\u0026rsquo;t investigated the data exhaustively, so I\u0026rsquo;ve picked 5 random numbers within the range of the first principal component and sorted them to have some sense of representativeness. It looks like the first principal component captures a spectrum of constituency groups from high-Chinese constituencies to high-Sabahan constituencies. Note that the first principal component only captures 28% of the variance.\nThe same exercise is done for the age variables. Its first principal component captures 61.4% of the variance. For age, PCA has an easier job - it just sorts between constituencies with left-skewed and right-skewed age distributions.\nMultinomial logit + PCA We can see how these patterns identified via PCA affect electoral outcomes using a multinomial logit model. A multinomial logit allows us to obtain relative and marginal probabilities of each class, so that we can interpret the model for each contesting party. Note that PCA is not the best approach for this. Lubostky and Wittenberg (2002) note that it is not clear that the PCA procedure helps with capturing the structural relationship between a latent variable and an outcome of interest.\n(I estimated my multinomial logit on a 70% split of the data. This is an arbitrary decision, but since prediction is not the core task of this model, I\u0026rsquo;m not too interested in evaluating its predictive power.)\nUsing statsmodels\u0026rsquo;s MNLogit, the regression statistics are as follows. This model predicts with 16% accuracy out-of-sample.  MNLogit Regression Results  Dep. Variable: y  No. Observations:   155   Model: MNLogit  Df Residuals:   147   Method: MLE  Df Model:   4   Date: Sun, 26 Aug 2018  Pseudo R-squ.:  -0.2011   Time: 15:34:15  Log-Likelihood:   -203.94   converged: True  LL-Null:   -169.80        LLR p-value:   1.000    y=BN coef std err z P\u0026gt;|z| [0.025 0.975]\n  Race  0.3883  0.211  1.838  0.066  -0.026  0.802   Age  -0.3440  0.151  -2.275  0.023  -0.640  -0.048   y=Gagasan Sejahtera coef std err z P\u0026gt;|z| [0.025 0.975]\n  Race  0.0476  0.240  0.198  0.843  -0.424  0.519   Age  -0.3428  0.154  -2.222  0.026  -0.645  -0.040   y=PH coef std err z P\u0026gt;|z| [0.025 0.975]\n  Race  -1.4327  0.275  -5.216  0.000  -1.971  -0.894   Age  0.3323  0.150  2.216  0.027  0.038  0.626   y=WARISAN coef std err z P\u0026gt;|z| [0.025 0.975]\n  Race  0.3364  0.215  1.568  0.117  -0.084  0.757   Age  -0.2115  0.153  -1.380  0.167  -0.512  0.089   \nRelative odds The coefficients are expressed in log-odds, so these are exponentiated to obtain relative odds. The relative odds can be interpreted as the probability relative to BEBAS (independent candidate) being improved by the relative odds if Race/Age increased by one standard deviation.\n .dataframe tbody tr th:only-of-type { vertical-align: middle; }\n.dataframe tbody tr th { vertical-align: top; } .dataframe thead th { text-align: right; }     BN Gagasan Sejahtera PH WARISAN     Race 1.474485 1.048732 0.238672 1.399909   Age 0.708961 0.709755 1.394134 0.809366    \nMarginal odds We can tell a slightly different story with marginal odds. The advantage of using marginal odds is that we can get an idea of actual, rather than relative probabilities (see here for details), however they can be quite tricky to interpret. The marginal effect for a continuous variable $X_k$ provides the instantaneous rate of change if the variable $X_k$ increased by an infinitesimal amount $\\Delta$, holding all other variables $X$ constant. See this for details. $$\\lim_{\\Delta \\to 0} \\Pr(Y = 1|X, X_k+\\Delta)- \\Pr(y=1|X, X_k)$$\nIn other words, what is the change in (log-)probabiity if the first principal component changes by an infinitesimal amount?\nThe means of each principal component will coincide with 0, therefore at 0 I get marginal effects at average race/age. This is visualised below.\nLubotsky-Wittenberg post-hoc estimator for multiple proxies Lubotsky and Wittenberg (2002) proposed a method to interpret the coefficients in a regression under the null hypothesis that the variables are all generated by a common latent factor. Let the latent factor $x_{i}^*$ be measured by $j$ proxy variables $z_{ji}$, where each $z_{ji}$ is related to the latent factor by $$z_{ji}=\\rho x^*_i + \\mu _{ij}$$\nThe goal is to measure the effect of $x^*$ on $y$: $$y_i = \\beta_{LW} x^*_{it}+\\epsilon_i$$\nI follow the estimation procedure in Vosters \u0026amp; Nybom (2016):\n Fit the regression model: $$y_i=\\phi_1 z_{1i} + \\phi_2 z_{2i} + ...$$\n Estimate $\\rho_j$ of each $z_j$ (except $z_1$, where $\\rho_j$ is normalised to 1) using two-stage least squares. The procedure is akin to instrumental variables: use $z_j$ as outcome and $y$ as instrument for $z_1$.\n Calculate $$\\beta_{LW}=\\rho_1\\phi_1 + \\rho_2 \\phi_2 + \\rho_3 \\phi_3 + ... + \\rho_k \\phi_k$$ where $\\rho_1 = 1$.\n  To be on the safe side, I assume a linear probability model, where the outcome of interest is whether Pakatan Harapan wins the seat. I\u0026rsquo;m not too familiar with the literature, but I couldn\u0026rsquo;t really find it being used in a classification problem before, so I\u0026rsquo;m not sure if it\u0026rsquo;s shown to be appropriate for the logistic model.\nAnd since I can\u0026rsquo;t figure out how to properly construct my standard errors, you\u0026rsquo;ll just have to make do with estimates.\nThe F-stat is provided for the first stage: a rule of thumb is to have an F-stat which exceeds 10. The F-stat tests whether the instrument is \u0026lsquo;relevant\u0026rsquo;.\n I write two functions: lw and lw_controls: one function provides the L-W estimate without controls, and the other with controls. My training set is similar to the previous training set for the multinomial logit. I start out estimating without controls - this gives me extremely small effects. If Race is independent of Age (e.g. diagram below), the estimation is unbiased.     \u0026nbsp; Race Age     F-stat 65.430 119.093   $\\hat \\beta_{LW}$ .00073 -.00053     Estimating the effect of \u0026lsquo;race\u0026rsquo; conditional on age (and vice versa) gives me larger effects. This suggests that there\u0026rsquo;s attenuation bias from omitting controls. These are \u0026lsquo;good\u0026rsquo; estimates if race confounds age, or age confounds race.\n     \u0026nbsp; Race Age     F-stat 32.288 96.985   $\\hat \\beta_{LW}$ -0.041 0.072     However, it\u0026rsquo;s not clear that demographic factors should be considered separately. Putting race and ethnicity variables together, the estimated L-W effect spikes.     \u0026nbsp; Demography     F-stat 119.093   $\\hat \\beta_{LW}$ 0.971    Interestingly, this result seems to confirm what we\u0026rsquo;ve seen in the random forests feature importances scores.\nThis estimate is OK assuming there are no confounders for the relationship between demography and electoral outcomes. For example, demography could be confounded by economic conditions that affect both the demographies of the region and preferences of the electorate.\nConclusions Interpreting feature importance metrics should be done with caution, particularly with random forests. The results suggest that there is interaction within and between age and ethnicity variables that contributes to electoral performance. The way I think of it, there are age-race combinations that are important contributors to electoral performance. Random Forests help with detecting interactions, however it\u0026rsquo;s not clear how these can be disentangled in feature importances metrics.\nAlso, the effect of demography could be reflective of unmeasured confounders. Without carefully considering the determinants of electoral performance, it\u0026rsquo;s not clear if demography is of such critical importance to electoral outcomes.\nNotes:\n I started out being critical with the 10% test set (23 observations). But the author of the original article set out to do estimation and not prediction, so I don\u0026rsquo;t think it\u0026rsquo;s too big a deal. In any case, I used test sets between 30 and 40% for this article. The data is scaled before it is transformed by PCA, and the data is inverse-transformed by the original scaler before constructing these charts. Variables with negative inverse-transformed values are set to zero.  ","date":1535673600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1535673600,"objectID":"b8a01d5acfe9b6373af178fd4442c487","permalink":"/post/exploring-ge14-results-with-python-2/","publishdate":"2018-08-31T00:00:00Z","relpermalink":"/post/exploring-ge14-results-with-python-2/","section":"post","summary":"Can we use machine learning to understand the demographic factors underlying the election results?","tags":["GE14","malaysia"],"title":"Exploring GE14 results with Python (part 2)","type":"post"},{"authors":null,"categories":["Python"],"content":" There\u0026rsquo;s an interesting blog post up on DataTarik about using random forests to model the outcomes of Malaysia\u0026rsquo;s 14th general election (GE14). While I have my reservations about their machine learning approach, I think it\u0026rsquo;s an interesting dataset, so I downloaded their data and code and played around with it in Python.\nFor those not familiar with Malaysia, some background:\n BN refers to the National Front (Barisan Nasional), the current largest opposition party and the ruling party since independence, and PH refers to Pact of Hope (Pakatan Harapan), the party currently in government. I sometimes refer to Gagasan Sejahtera as PAS (Malaysian Islamic Party), as they were the leading party in this electoral coalition. Melayu, Cina and India refer to ethnic Malays, Chinese and Indians respectively, whereas Bumiputera Sabah/Sarawak and Orang Asli are various indigenous tribes in Malaysia. Malays are also regarded as indigenous, and will be referred to as such. Geographically, Malaysia comprises of parts of the Malay Peninsula and Borneo island (West and East Malaysia respectively).  Variable names: agevars refers to proportions of people in several bins of age groups, racevars refers to proportions of people in each ethnic group, and features is the union of agevars and racevars. target is the outcome of the election.\nWho won? Thought I\u0026rsquo;d just do a quick waffle chart using the sweet pywaffle package.\nfrom pywaffle import Waffle data = ge14.target.value_counts() fig = plt.figure( FigureClass=Waffle, rows=10, values=data, colors=(\u0026quot;red\u0026quot;, \u0026quot;#232066\u0026quot;, \u0026quot;green\u0026quot;, \u0026quot;lightblue\u0026quot;, 'grey', 'cyan'), title={'label': '14th Malaysian Parliament composition', 'loc': 'left'}, labels=[\u0026quot;{0}\u0026quot;.format(k) for k, v in data.items()], icons = 'user', legend={'loc': 'upper left', 'bbox_to_anchor': (1, 1)} ) fig.gca().set_facecolor('#EEEEEE') fig.set_facecolor('#EEEEEE') fig.set_tight_layout(False) plt.show()  Overall distribution of demographics across constituencies With the data we have, there are two stories to be told:\n Voting behaviour by ethnicity:  Gagasan Sejahtera does well in constituencies with high Malay concentration, low Chinese and Indian concentration. We may want to look at geographical subgroups (Peninsula/Borneo), since the Borneo parties don\u0026rsquo;t contest in the Peninsula, and some of the ethnic groups covered are sparse in the Peninsula. For BN, the distribution of wins by ethnicity are more tightly distributed around low Indian and Chinese population constituencies. Both BN and PH have wins across a range of Malay-minority and Malay-majority constituencies. BN does not have any seats in Chinese-majority constituencies.  Voting behaviour by age:  Not very clear pattern for age - at least not with the boxplot PAS wins in \u0026lsquo;younger\u0026rsquo; constituencies (higher pct 21-30, 31-40) PAS wins are very uniform in terms of age and ethnicity demographics   fg, ax = plt.subplots(nrows =4, figsize = (6,20)) ge14[ge14.target =='BN'][features].boxplot(vert = False, ax = ax[0]) ax[0].set_title(\u0026quot;BN\u0026quot;) ge14[ge14.target=='PH'][features].boxplot(vert = False, ax = ax[1]) ax[1].set_title(\u0026quot;PH\u0026quot;) ge14[ge14.target=='Gagasan Sejahtera'][features].boxplot(vert = False, ax = ax[2]) ax[2].set_title(\u0026quot;Gagasan Sejahtera\u0026quot;) ge14[~ge14.target.isin(['BN', 'PH', 'Gagasan Sejahtera'])][features].boxplot(vert = False, ax = ax[3]) ax[3].set_title(\u0026quot;Others\u0026quot;) plt.tight_layout()  In which seats do these parties win? Ethnic diversity of constituencies Using scipy\u0026rsquo;s entropy function, I try to determine which parties win in ethnically \u0026lsquo;diverse\u0026rsquo; and \u0026lsquo;less-diverse\u0026rsquo; constituencies. The boxplots below confirm what we already know from the boxplots above - that Gagasan Sejahtera appeals to a very homogenous group of voters.\n BN wins across diverse and non-diverse constituencies; PH also wins across diverse and non-diverse constituencies, but its median constituency is more diverse than BN\u0026rsquo;s median constituency. PAS wins in non-diverse constituencies.  The diversity index used here is the Shannon entropy index, given by $$H'=-\\Sigma p_i \\log{p_i}$$ The exponent of $H'$ has a nice interpretation. It is the effective number of species, i.e. how many species there would be if each species had an equal amount of observations. You can convince yourself that this is true by running the code exp(-(0.5*log(0.5)+0.5*log(0.5))) (in R), which should return the result 2, meaning the diversity in the data is effectively two equally sized classes.\nfrom scipy.stats import entropy entropy_const = np.array([entropy(ge14[racevars].iloc[i,:].tolist()) for i in range(len(ge14))]) # use effective number of species instead https://medium.com/@sam.weinger/how-diverse-are-names-in-america-f74b07e031bd effective_number = np.exp(entropy_const) np.mean(effective_number[ge14.target=='BN']), np.mean(effective_number[ge14.target=='PH']), np.mean(effective_number[ge14.target=='Gagasan Sejahtera'])  (2.023986123800037, 2.4850578347860295, 1.2839901761045327)  fg, ax = plt.subplots(nrows = 3, figsize = (5,5)) sns.boxplot(effective_number[ge14.target=='BN'], ax = ax[0]) ax[0].set_title(\u0026quot;BN\u0026quot;) sns.boxplot(effective_number[ge14.target=='PH'], ax = ax[1], color = 'r') ax[1].set_title(\u0026quot;PH\u0026quot;) sns.boxplot(effective_number[ge14.target=='Gagasan Sejahtera'], ax = ax[2], color = 'g') ax[2].set_title(\u0026quot;Gagasan Sejahtera\u0026quot;) plt.xlim(0,4) plt.tight_layout()  Peninsula-Borneo divide? Since there are different parties in Peninsula and Borneo, I calculate age-ethnicity cross-tabulations for Peninsula and Borneo respectively. Age and ethnicity here refers to the demographic with the highest share in each constituency.\nPeninsula PH wins all predominantly ethnic Chinese seats and most predominantly ethnic Malay seats in the Peninsula.\nethnicity = ge14[racevars].idxmax(axis = 1) age = ge14[agevars].idxmax(axis = 1) pd.crosstab(ge14[peninsula].target, ethnicity)    .dataframe tbody tr th:only-of-type { vertical-align: middle; } .dataframe tbody tr th { vertical-align: top; } .dataframe thead th { text-align: center; }    Cina (%) Melayu (%)     BN 0 49   Gagasan Sejahtera 0 18   PH 33 65      pd.crosstab(ge14[peninsula].target, age)   .dataframe tbody tr th:only-of-type { vertical-align: middle; }\n.dataframe tbody tr th { vertical-align: top; } .dataframe thead th { text-align: center; }     21 - 30 (%) 31 - 40 (%) 41 - 50 (%) 51 - 60 (%) \n   BN 2 47 0 0   Gagasan Sejahtera 3 15 0 0   PH 0 77 11 10    \nBorneo BN is strongest in predominantly-indigenous seats, whereas PH is strongest in predominantly ethnic Chinese seats. PH made up for its weakness in indigenous seats with its partnership with WARISAN. Both BN and PH win the most seats where most people are aged between 31 and 40.\npd.crosstab(ge14[np.invert(peninsula)].target, ethnicity)   .dataframe tbody tr th:only-of-type { vertical-align: middle; }\n.dataframe tbody tr th { vertical-align: top; } .dataframe thead th { text-align: center; }     Bumiputera Sabah (%) Bumiputera Sarawak (%) Cina (%) Melayu (%)     BEBAS 0 2 0 0   BN 10 14 0 6   PH 3 4 8 1   STAR 1 0 0 0   WARISAN 7 0 0 1     \npd.crosstab(ge14[np.invert(peninsula)].target, age)    .dataframe tbody tr th:only-of-type { vertical-align: middle; } .dataframe tbody tr th { vertical-align: top; } .dataframe thead th { text-align: center; }    31 - 40 (%) 41 - 50 (%) 51 - 60 (%)     BEBAS 0 2 0   BN 17 11 2   PH 8 5 3   STAR 1 0 0   WARISAN 8 0 0      ","date":1535155200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1535155200,"objectID":"fa35694115ad6f6b4b99f770544a7004","permalink":"/post/exploring-ge14-results-with-python/","publishdate":"2018-08-25T00:00:00Z","relpermalink":"/post/exploring-ge14-results-with-python/","section":"post","summary":"Some exploratory insights from the 14th Malaysian general election","tags":["GE14","malaysia"],"title":"Exploring GE14 results with Python (part 1)","type":"post"},{"authors":null,"categories":["R"],"content":"\rI thought I’d practice my rusty R skills when I came across a post by Khairil Yusof on the Sinar Project Facebook group that Malaysian Administrative Modernisation and Management Planning Unit (MAMPU) has made data on development expenditure over time available on data.gov.my. I haven’t paid close enough attention to government budgets to have much comments about the trends, but a comment can be found here. Tl;dr, the authors note that Malaysia’s stagnating development expenditure is concerning since Malaysia is a developing economy.\nMy thinking while constructing this plot was to contrast the growth in each category of expenditure against the overall growth in development expenditure over time. I’m thinking about also including the trend in each category of expenditure within each facet.\nData is obtained from data.gov.my. A cleaned version of the data is available here.\nlibrary(readr)\rlibrary(tidyverse)\rlibrary(here)\rmalaysiaDevExp \u0026lt;- read_csv(here(\u0026quot;static\u0026quot;, \u0026quot;data\u0026quot;, \u0026quot;malaysiaDevExp.csv\u0026quot;))\r## Parsed with column specification:\r## cols(\r## Year = col_double(),\r## EconomyTotal = col_double(),\r## AgroRuralDev = col_double(),\r## PublicAmenities = col_double(),\r## TradeAndIndustry = col_double(),\r## Transport = col_double(),\r## Connectivity = col_double(),\r## Environment = col_double(),\r## OtherEconomy = col_double(),\r## SocialTotal = col_double(),\r## EducationTraining = col_double(),\r## Health = col_double(),\r## Housing = col_double(),\r## OtherSocial = col_double(),\r## SafetyTotal = col_double(),\r## Defence = col_double(),\r## HomelandSecurity = col_double(),\r## PublicAdmin = col_double(),\r## Total = col_double()\r## )\r# create separate dataframe for background totals\rmalaysiaDevExp %\u0026gt;% select(Year, Value = Total) %\u0026gt;% mutate(Year = as.numeric(Year), Value = Value/1000)-\u0026gt; DevExpTotal\rmalaysiaDevExp %\u0026gt;%\r# select some columns; rename as needed\rselect(Year, Economy = EconomyTotal, Social = SocialTotal, Safety = SafetyTotal, `Public Administration` = PublicAdmin) %\u0026gt;%\r# Year was imported as factor; change this to numeric\rmutate(Year = as.numeric(Year)) %\u0026gt;% gather(ExpCat, Value, -Year) %\u0026gt;% ggplot(aes(x = Year, y = Value/1000)) + # totals in background\rgeom_ribbon(data = DevExpTotal, aes(ymin=0, ymax = Value), fill = \u0026#39;gray96\u0026#39;, group = 1) + # line representing each expenditure category, in different colors\rgeom_path(group=1, aes(color = ExpCat)) + # separate each expenditure category into facets\rfacet_wrap(~ExpCat) + # no legends\rguides(color = FALSE) + # set break points in x-axis scale_x_continuous(breaks = c(1975, 1985, 1995, 2005,2015)) +\r# draw rectangle to highlight that numbers should be treated with caution\rgeom_rect(inherit.aes=FALSE, aes(xmin=2017, xmax=2018, ymin=0, ymax=60), color=\u0026quot;transparent\u0026quot;, fill=\u0026quot;lightcoral\u0026quot;, alpha = 0.01) +\rtheme_minimal() + theme(panel.grid.major = element_blank(), # remove grid lines\rpanel.grid.minor = element_blank(), # bold facet titles\rstrip.text = element_text(face = \u0026#39;bold\u0026#39;, color = \u0026#39;gray29\u0026#39;), # format text on ticks\raxis.text = element_text(size = 9, color = \u0026#39;gray45\u0026#39;), # format axis labels\raxis.title = element_text(color = \u0026#39;gray35\u0026#39;),\r# format caption text\rplot.caption = element_text(color = \u0026#39;gray30\u0026#39;)) + labs(title = \u0026quot;Malaysia\u0026#39;s spending on safety and public admin hasn\u0026#39;t grown much\u0026quot;, subtitle = \u0026quot;Strongest growth in development expenditure is in economic and social spending\u0026quot;, y = \u0026quot;RM (\u0026#39;000) million\u0026quot;, caption = \u0026quot;Source: data.gov.my \\n2017 data is preliminary data; 2018 data are Budget estimates\u0026quot;)\r","date":1535068800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1535068800,"objectID":"b22fd0e7b61d2c3edbf614f81b9f2475","permalink":"/post/visualising-government-expenditure-dat/","publishdate":"2018-08-24T00:00:00Z","relpermalink":"/post/visualising-government-expenditure-dat/","section":"post","summary":"Visualising Malaysia's stagnating development expenditure","tags":["ggplot2","malaysia"],"title":"Visualising government expenditure data with ggplot2","type":"post"},{"authors":null,"categories":null,"content":"","date":1461715200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1461715200,"objectID":"d1311ddf745551c9e117aa4bb7e28516","permalink":"/project/external-project/","publishdate":"2016-04-27T00:00:00Z","relpermalink":"/project/external-project/","section":"project","summary":"An example of linking directly to an external project website using `external_link`.","tags":["Demo"],"title":"External Project","type":"project"},{"authors":null,"categories":null,"content":"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum. Sed ac faucibus dolor, scelerisque sollicitudin nisi. Cras purus urna, suscipit quis sapien eu, pulvinar tempor diam. Quisque risus orci, mollis id ante sit amet, gravida egestas nisl. Sed ac tempus magna. Proin in dui enim. Donec condimentum, sem id dapibus fringilla, tellus enim condimentum arcu, nec volutpat est felis vel metus. Vestibulum sit amet erat at nulla eleifend gravida.\nNullam vel molestie justo. Curabitur vitae efficitur leo. In hac habitasse platea dictumst. Sed pulvinar mauris dui, eget varius purus congue ac. Nulla euismod, lorem vel elementum dapibus, nunc justo porta mi, sed tempus est est vel tellus. Nam et enim eleifend, laoreet sem sit amet, elementum sem. Morbi ut leo congue, maximus velit ut, finibus arcu. In et libero cursus, rutrum risus non, molestie leo. Nullam congue quam et volutpat malesuada. Sed risus tortor, pulvinar et dictum nec, sodales non mi. Phasellus lacinia commodo laoreet. Nam mollis, erat in feugiat consectetur, purus eros egestas tellus, in auctor urna odio at nibh. Mauris imperdiet nisi ac magna convallis, at rhoncus ligula cursus.\nCras aliquam rhoncus ipsum, in hendrerit nunc mattis vitae. Duis vitae efficitur metus, ac tempus leo. Cras nec fringilla lacus. Quisque sit amet risus at ipsum pharetra commodo. Sed aliquam mauris at consequat eleifend. Praesent porta, augue sed viverra bibendum, neque ante euismod ante, in vehicula justo lorem ac eros. Suspendisse augue libero, venenatis eget tincidunt ut, malesuada at lorem. Donec vitae bibendum arcu. Aenean maximus nulla non pretium iaculis. Quisque imperdiet, nulla in pulvinar aliquet, velit quam ultrices quam, sit amet fringilla leo sem vel nunc. Mauris in lacinia lacus.\nSuspendisse a tincidunt lacus. Curabitur at urna sagittis, dictum ante sit amet, euismod magna. Sed rutrum massa id tortor commodo, vitae elementum turpis tempus. Lorem ipsum dolor sit amet, consectetur adipiscing elit. Aenean purus turpis, venenatis a ullamcorper nec, tincidunt et massa. Integer posuere quam rutrum arcu vehicula imperdiet. Mauris ullamcorper quam vitae purus congue, quis euismod magna eleifend. Vestibulum semper vel augue eget tincidunt. Fusce eget justo sodales, dapibus odio eu, ultrices lorem. Duis condimentum lorem id eros commodo, in facilisis mauris scelerisque. Morbi sed auctor leo. Nullam volutpat a lacus quis pharetra. Nulla congue rutrum magna a ornare.\nAliquam in turpis accumsan, malesuada nibh ut, hendrerit justo. Cum sociis natoque penatibus et magnis dis parturient montes, nascetur ridiculus mus. Quisque sed erat nec justo posuere suscipit. Donec ut efficitur arcu, in malesuada neque. Nunc dignissim nisl massa, id vulputate nunc pretium nec. Quisque eget urna in risus suscipit ultricies. Pellentesque odio odio, tincidunt in eleifend sed, posuere a diam. Nam gravida nisl convallis semper elementum. Morbi vitae felis faucibus, vulputate orci placerat, aliquet nisi. Aliquam erat volutpat. Maecenas sagittis pulvinar purus, sed porta quam laoreet at.\n","date":1461715200,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1461715200,"objectID":"8f66d660a9a2edc2d08e68cc30f701f7","permalink":"/project/internal-project/","publishdate":"2016-04-27T00:00:00Z","relpermalink":"/project/internal-project/","section":"project","summary":"An example of using the in-built project page.","tags":["Deep Learning"],"title":"Internal Project","type":"project"},{"authors":["Philip Khor","Robert Ford"],"categories":null,"content":" Click the Cite button above to demo the feature to enable visitors to import publication metadata into their reference management software.    Click the Slides button above to demo Academic\u0026rsquo;s Markdown slides feature.   Supplementary notes can be added here, including code and math.\n","date":1441065600,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1441065600,"objectID":"966884cc0d8ac9e31fab966c4534e973","permalink":"/publication/journal-article/","publishdate":"2017-01-01T00:00:00Z","relpermalink":"/publication/journal-article/","section":"publication","summary":"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum.","tags":["Source Themes"],"title":"An example journal article","type":"publication"},{"authors":["Philip Khor","Robert Ford"],"categories":null,"content":" Click the Cite button above to demo the feature to enable visitors to import publication metadata into their reference management software.    Click the Slides button above to demo Academic\u0026rsquo;s Markdown slides feature.   Supplementary notes can be added here, including code and math.\n","date":1372636800,"expirydate":-62135596800,"kind":"page","lang":"en","lastmod":1372636800,"objectID":"69425fb10d4db090cfbd46854715582c","permalink":"/publication/conference-paper/","publishdate":"2017-01-01T00:00:00Z","relpermalink":"/publication/conference-paper/","section":"publication","summary":"Lorem ipsum dolor sit amet, consectetur adipiscing elit. Duis posuere tellus ac convallis placerat. Proin tincidunt magna sed ex sollicitudin condimentum.","tags":["Source Themes"],"title":"An example conference paper","type":"publication"}]